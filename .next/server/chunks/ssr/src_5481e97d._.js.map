{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Button.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n  loading?: boolean;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  fullWidth?: boolean;\n  'aria-describedby'?: string;\n  'aria-expanded'?: boolean;\n  'aria-haspopup'?: boolean | 'false' | 'true' | 'menu' | 'listbox' | 'tree' | 'grid' | 'dialog';\n  'aria-pressed'?: boolean;\n  'aria-controls'?: string;\n  'aria-owns'?: string;\n  tooltip?: string;\n  shortcut?: string;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      children,\n      variant = 'primary',\n      size = 'md',\n      loading = false,\n      leftIcon,\n      rightIcon,\n      fullWidth = false,\n      disabled,\n      className = '',\n      tooltip,\n      shortcut,\n      ...props\n    },\n    ref\n  ) => {\n    const baseClasses = [\n      'inline-flex items-center justify-center font-medium rounded-md',\n      'focus:outline-none focus:ring-2 focus:ring-offset-2',\n      'transition-colors duration-200',\n      'disabled:opacity-50 disabled:cursor-not-allowed',\n      'relative', // For loading state positioning\n      fullWidth ? 'w-full' : '',\n    ].join(' ');\n\n    const variantClasses = {\n      primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\n      secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',\n      outline: 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700',\n      ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800',\n      danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\n    };\n\n    const sizeClasses = {\n      sm: 'px-3 py-1.5 text-sm',\n      md: 'px-4 py-2 text-sm',\n      lg: 'px-6 py-3 text-base',\n    };\n\n    const LoadingSpinner = () => (\n      <svg\n        className=\"animate-spin h-4 w-4\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        />\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n    );\n\n    const buttonElement = (\n      <button\n        ref={ref}\n        className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n        disabled={disabled || loading}\n        aria-disabled={disabled || loading}\n        aria-busy={loading}\n        title={tooltip}\n        {...props}\n      >\n        {loading ? (\n          <>\n            <LoadingSpinner />\n            <span className=\"ml-2\" aria-live=\"polite\">\n              {children}\n            </span>\n          </>\n        ) : (\n          <>\n            {leftIcon && (\n              <span className=\"mr-2\" aria-hidden=\"true\">\n                {leftIcon}\n              </span>\n            )}\n            <span>{children}</span>\n            {shortcut && (\n              <span className=\"ml-2 text-xs opacity-70\" aria-label={`Keyboard shortcut: ${shortcut}`}>\n                <kbd className=\"px-1 py-0.5 bg-black/10 dark:bg-white/10 rounded text-xs\">\n                  {shortcut}\n                </kbd>\n              </span>\n            )}\n            {rightIcon && (\n              <span className=\"ml-2\" aria-hidden=\"true\">\n                {rightIcon}\n              </span>\n            )}\n          </>\n        )}\n      </button>\n    );\n\n    return buttonElement;\n  }\n);\n\nButton.displayName = 'Button';\n\nexport default Button;"],"names":[],"mappings":";;;;AAAA;;;AAmBA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EACtB,CACE,EACE,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,UAAU,KAAK,EACf,QAAQ,EACR,SAAS,EACT,YAAY,KAAK,EACjB,QAAQ,EACR,YAAY,EAAE,EACd,OAAO,EACP,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA,YAAY,WAAW;KACxB,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;QACP,QAAQ;IACV;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,iBAAiB,kBACrB,8OAAC;YACC,WAAU;YACV,OAAM;YACN,MAAK;YACL,SAAQ;YACR,eAAY;;8BAEZ,8OAAC;oBACC,WAAU;oBACV,IAAG;oBACH,IAAG;oBACH,GAAE;oBACF,QAAO;oBACP,aAAY;;;;;;8BAEd,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,GAAE;;;;;;;;;;;;IAKR,MAAM,8BACJ,8OAAC;QACC,KAAK;QACL,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACxF,UAAU,YAAY;QACtB,iBAAe,YAAY;QAC3B,aAAW;QACX,OAAO;QACN,GAAG,KAAK;kBAER,wBACC;;8BACE,8OAAC;;;;;8BACD,8OAAC;oBAAK,WAAU;oBAAO,aAAU;8BAC9B;;;;;;;yCAIL;;gBACG,0BACC,8OAAC;oBAAK,WAAU;oBAAO,eAAY;8BAChC;;;;;;8BAGL,8OAAC;8BAAM;;;;;;gBACN,0BACC,8OAAC;oBAAK,WAAU;oBAA0B,cAAY,CAAC,mBAAmB,EAAE,UAAU;8BACpF,cAAA,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;gBAIN,2BACC,8OAAC;oBAAK,WAAU;oBAAO,eAAY;8BAChC;;;;;;;;;;;;;IAQb,OAAO;AACT;AAGF,OAAO,WAAW,GAAG;uCAEN","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Input.tsx"],"sourcesContent":["import React, { forwardRef, useState } from 'react';\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  loading?: boolean;\n  fullWidth?: boolean;\n  variant?: 'default' | 'filled';\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      label,\n      error,\n      helperText,\n      leftIcon,\n      rightIcon,\n      loading = false,\n      fullWidth = false,\n      variant = 'default',\n      className = '',\n      id,\n      type = 'text',\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const [, setIsFocused] = useState(false);\n    const inputId = id || `input-${Math.random().toString(36).substring(2, 11)}`;\n\n    const baseClasses = [\n      'block px-3 py-2 border rounded-md shadow-sm',\n      'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500',\n      'transition-colors duration-200',\n      'disabled:opacity-50 disabled:cursor-not-allowed',\n      fullWidth ? 'w-full' : '',\n    ].join(' ');\n\n    const variantClasses = {\n      default: error\n        ? 'border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400',\n      filled: error\n        ? 'border-red-300 bg-red-50 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400',\n    };\n\n    const LoadingSpinner = () => (\n      <svg\n        className=\"animate-spin h-4 w-4 text-gray-400\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        />\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n    );\n\n    const inputElement = (\n      <div className=\"relative\">\n        {leftIcon && (\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <span className=\"text-gray-400\" aria-hidden=\"true\">{leftIcon}</span>\n          </div>\n        )}\n        <input\n          ref={ref}\n          id={inputId}\n          type={type}\n          className={`${baseClasses} ${variantClasses[variant]} ${\n            leftIcon ? 'pl-10' : ''\n          } ${rightIcon || loading ? 'pr-10' : ''} ${className}`}\n          disabled={disabled || loading}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-busy={loading}\n          aria-required={props.required}\n          aria-describedby={\n            error ? `${inputId}-error` : helperText ? `${inputId}-helper` : undefined\n          }\n          onFocus={(e) => {\n            setIsFocused(true);\n            props.onFocus?.(e);\n          }}\n          onBlur={(e) => {\n            setIsFocused(false);\n            props.onBlur?.(e);\n          }}\n          {...props}\n        />\n        {(rightIcon || loading) && (\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n            {loading ? <LoadingSpinner /> : <span className=\"text-gray-400\" aria-hidden=\"true\">{rightIcon}</span>}\n          </div>\n        )}\n      </div>\n    );\n\n    if (!label && !error && !helperText) {\n      return inputElement;\n    }\n\n    return (\n      <div className={fullWidth ? 'w-full' : ''}>\n        {label && (\n          <label\n            htmlFor={inputId}\n            className={`block text-sm font-medium mb-1 ${\n              error\n                ? 'text-red-700 dark:text-red-400'\n                : 'text-gray-700 dark:text-gray-300'\n            }`}\n          >\n            {label}\n          </label>\n        )}\n        {inputElement}\n        {error && (\n          <p\n            id={`${inputId}-error`}\n            className=\"mt-1 text-sm text-red-600 dark:text-red-400\"\n            role=\"alert\"\n          >\n            {error}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${inputId}-helper`}\n            className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\"\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport default Input;"],"names":[],"mappings":";;;;AAAA;;;AAaA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EACrB,CACE,EACE,KAAK,EACL,KAAK,EACL,UAAU,EACV,QAAQ,EACR,SAAS,EACT,UAAU,KAAK,EACf,YAAY,KAAK,EACjB,UAAU,SAAS,EACnB,YAAY,EAAE,EACd,EAAE,EACF,OAAO,MAAM,EACb,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,MAAM,GAAG,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAClC,MAAM,UAAU,MAAM,CAAC,MAAM,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG,KAAK;IAE5E,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA,YAAY,WAAW;KACxB,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS,QACL,4FACA;QACJ,QAAQ,QACJ,sGACA;IACN;IAEA,MAAM,iBAAiB,kBACrB,8OAAC;YACC,WAAU;YACV,OAAM;YACN,MAAK;YACL,SAAQ;YACR,eAAY;;8BAEZ,8OAAC;oBACC,WAAU;oBACV,IAAG;oBACH,IAAG;oBACH,GAAE;oBACF,QAAO;oBACP,aAAY;;;;;;8BAEd,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,GAAE;;;;;;;;;;;;IAKR,MAAM,6BACJ,8OAAC;QAAI,WAAU;;YACZ,0BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;oBAAgB,eAAY;8BAAQ;;;;;;;;;;;0BAGxD,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,MAAM;gBACN,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EACpD,WAAW,UAAU,GACtB,CAAC,EAAE,aAAa,UAAU,UAAU,GAAG,CAAC,EAAE,WAAW;gBACtD,UAAU,YAAY;gBACtB,gBAAc,QAAQ,SAAS;gBAC/B,aAAW;gBACX,iBAAe,MAAM,QAAQ;gBAC7B,oBACE,QAAQ,GAAG,QAAQ,MAAM,CAAC,GAAG,aAAa,GAAG,QAAQ,OAAO,CAAC,GAAG;gBAElE,SAAS,CAAC;oBACR,aAAa;oBACb,MAAM,OAAO,GAAG;gBAClB;gBACA,QAAQ,CAAC;oBACP,aAAa;oBACb,MAAM,MAAM,GAAG;gBACjB;gBACC,GAAG,KAAK;;;;;;YAEV,CAAC,aAAa,OAAO,mBACpB,8OAAC;gBAAI,WAAU;0BACZ,wBAAU,8OAAC;;;;6EAAoB,8OAAC;oBAAK,WAAU;oBAAgB,eAAY;8BAAQ;;;;;;;;;;;;;;;;;IAM5F,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY;QACnC,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,YAAY,WAAW;;YACpC,uBACC,8OAAC;gBACC,SAAS;gBACT,WAAW,CAAC,+BAA+B,EACzC,QACI,mCACA,oCACJ;0BAED;;;;;;YAGJ;YACA,uBACC,8OAAC;gBACC,IAAI,GAAG,QAAQ,MAAM,CAAC;gBACtB,WAAU;gBACV,MAAK;0BAEJ;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,QAAQ,OAAO,CAAC;gBACvB,WAAU;0BAET;;;;;;;;;;;;AAKX;AAGF,MAAM,WAAW,GAAG;uCAEL","debugId":null}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Textarea.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react';\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  loading?: boolean;\n  fullWidth?: boolean;\n  variant?: 'default' | 'filled';\n  autoResize?: boolean;\n  maxRows?: number;\n  minRows?: number;\n}\n\nconst Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      label,\n      error,\n      helperText,\n      loading = false,\n      fullWidth = false,\n      variant = 'default',\n      autoResize = false,\n      maxRows,\n      minRows = 3,\n      className = '',\n      id,\n      disabled,\n      onChange,\n      ...props\n    },\n    ref\n  ) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n    const textareaId = id || `textarea-${Math.random().toString(36).substr(2, 9)}`;\n\n    // Merge refs\n    const mergedRef = (element: HTMLTextAreaElement) => {\n      textareaRef.current = element;\n      if (typeof ref === 'function') {\n        ref(element);\n      } else if (ref) {\n        ref.current = element;\n      }\n    };\n\n    const adjustHeight = () => {\n      const textarea = textareaRef.current;\n      if (!textarea || !autoResize) return;\n\n      // Reset height to auto to get the correct scrollHeight\n      textarea.style.height = 'auto';\n      \n      // Calculate the new height\n      const scrollHeight = textarea.scrollHeight;\n      const lineHeight = parseInt(getComputedStyle(textarea).lineHeight);\n      const paddingTop = parseInt(getComputedStyle(textarea).paddingTop);\n      const paddingBottom = parseInt(getComputedStyle(textarea).paddingBottom);\n      \n      let newHeight = scrollHeight;\n      \n      if (maxRows) {\n        const maxHeight = lineHeight * maxRows + paddingTop + paddingBottom;\n        newHeight = Math.min(newHeight, maxHeight);\n      }\n      \n      const minHeight = lineHeight * minRows + paddingTop + paddingBottom;\n      newHeight = Math.max(newHeight, minHeight);\n      \n      textarea.style.height = `${newHeight}px`;\n    };\n\n    useEffect(() => {\n      adjustHeight();\n    }, [props.value, autoResize, maxRows, minRows]);\n\n    const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      if (autoResize) {\n        adjustHeight();\n      }\n      onChange?.(event);\n    };\n\n    const baseClasses = [\n      'block px-3 py-2 border rounded-md shadow-sm',\n      'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500',\n      'transition-colors duration-200',\n      'disabled:opacity-50 disabled:cursor-not-allowed',\n      'resize-none', // Disable manual resize when auto-resize is enabled\n      fullWidth ? 'w-full' : '',\n    ].join(' ');\n\n    const variantClasses = {\n      default: error\n        ? 'border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400',\n      filled: error\n        ? 'border-red-300 bg-red-50 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400',\n    };\n\n    const textareaElement = (\n      <div className=\"relative\">\n        <textarea\n          ref={mergedRef}\n          id={textareaId}\n          className={`${baseClasses} ${variantClasses[variant]} ${\n            loading ? 'pr-10' : ''\n          } ${className}`}\n          disabled={disabled || loading}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={\n            error ? `${textareaId}-error` : helperText ? `${textareaId}-helper` : undefined\n          }\n          rows={autoResize ? minRows : props.rows || minRows}\n          onChange={handleChange}\n          {...props}\n        />\n        {loading && (\n          <div className=\"absolute top-3 right-3 pointer-events-none\">\n            <svg\n              className=\"animate-spin h-4 w-4 text-gray-400\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n\n    if (!label && !error && !helperText) {\n      return textareaElement;\n    }\n\n    return (\n      <div className={fullWidth ? 'w-full' : ''}>\n        {label && (\n          <label\n            htmlFor={textareaId}\n            className={`block text-sm font-medium mb-1 ${\n              error\n                ? 'text-red-700 dark:text-red-400'\n                : 'text-gray-700 dark:text-gray-300'\n            }`}\n          >\n            {label}\n          </label>\n        )}\n        {textareaElement}\n        {error && (\n          <p\n            id={`${textareaId}-error`}\n            className=\"mt-1 text-sm text-red-600 dark:text-red-400\"\n            role=\"alert\"\n          >\n            {error}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${textareaId}-helper`}\n            className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\"\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport default Textarea;"],"names":[],"mappings":";;;;AAAA;;;AAcA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EACxB,CACE,EACE,KAAK,EACL,KAAK,EACL,UAAU,EACV,UAAU,KAAK,EACf,YAAY,KAAK,EACjB,UAAU,SAAS,EACnB,aAAa,KAAK,EAClB,OAAO,EACP,UAAU,CAAC,EACX,YAAY,EAAE,EACd,EAAE,EACF,QAAQ,EACR,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAuB;IAChD,MAAM,aAAa,MAAM,CAAC,SAAS,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAE9E,aAAa;IACb,MAAM,YAAY,CAAC;QACjB,YAAY,OAAO,GAAG;QACtB,IAAI,OAAO,QAAQ,YAAY;YAC7B,IAAI;QACN,OAAO,IAAI,KAAK;YACd,IAAI,OAAO,GAAG;QAChB;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,WAAW,YAAY,OAAO;QACpC,IAAI,CAAC,YAAY,CAAC,YAAY;QAE9B,uDAAuD;QACvD,SAAS,KAAK,CAAC,MAAM,GAAG;QAExB,2BAA2B;QAC3B,MAAM,eAAe,SAAS,YAAY;QAC1C,MAAM,aAAa,SAAS,iBAAiB,UAAU,UAAU;QACjE,MAAM,aAAa,SAAS,iBAAiB,UAAU,UAAU;QACjE,MAAM,gBAAgB,SAAS,iBAAiB,UAAU,aAAa;QAEvE,IAAI,YAAY;QAEhB,IAAI,SAAS;YACX,MAAM,YAAY,aAAa,UAAU,aAAa;YACtD,YAAY,KAAK,GAAG,CAAC,WAAW;QAClC;QAEA,MAAM,YAAY,aAAa,UAAU,aAAa;QACtD,YAAY,KAAK,GAAG,CAAC,WAAW;QAEhC,SAAS,KAAK,CAAC,MAAM,GAAG,GAAG,UAAU,EAAE,CAAC;IAC1C;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC,MAAM,KAAK;QAAE;QAAY;QAAS;KAAQ;IAE9C,MAAM,eAAe,CAAC;QACpB,IAAI,YAAY;YACd;QACF;QACA,WAAW;IACb;IAEA,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA,YAAY,WAAW;KACxB,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS,QACL,4FACA;QACJ,QAAQ,QACJ,sGACA;IACN;IAEA,MAAM,gCACJ,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EACpD,UAAU,UAAU,GACrB,CAAC,EAAE,WAAW;gBACf,UAAU,YAAY;gBACtB,gBAAc,QAAQ,SAAS;gBAC/B,oBACE,QAAQ,GAAG,WAAW,MAAM,CAAC,GAAG,aAAa,GAAG,WAAW,OAAO,CAAC,GAAG;gBAExE,MAAM,aAAa,UAAU,MAAM,IAAI,IAAI;gBAC3C,UAAU;gBACT,GAAG,KAAK;;;;;;YAEV,yBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;oBACR,eAAY;;sCAEZ,8OAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;;;;;;;;;;;;IAQd,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY;QACnC,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,YAAY,WAAW;;YACpC,uBACC,8OAAC;gBACC,SAAS;gBACT,WAAW,CAAC,+BAA+B,EACzC,QACI,mCACA,oCACJ;0BAED;;;;;;YAGJ;YACA,uBACC,8OAAC;gBACC,IAAI,GAAG,WAAW,MAAM,CAAC;gBACzB,WAAU;gBACV,MAAK;0BAEJ;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,WAAW,OAAO,CAAC;gBAC1B,WAAU;0BAET;;;;;;;;;;;;AAKX;AAGF,SAAS,WAAW,GAAG;uCAER","debugId":null}},
    {"offset": {"line": 499, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Select.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\n\nexport interface SelectOption {\n  value: string;\n  label: string;\n  disabled?: boolean;\n}\n\nexport interface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  options: SelectOption[];\n  placeholder?: string;\n  loading?: boolean;\n  fullWidth?: boolean;\n  variant?: 'default' | 'filled';\n}\n\nconst Select = forwardRef<HTMLSelectElement, SelectProps>(\n  (\n    {\n      label,\n      error,\n      helperText,\n      options,\n      placeholder,\n      loading = false,\n      fullWidth = false,\n      variant = 'default',\n      className = '',\n      id,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const selectId = id || `select-${Math.random().toString(36).substr(2, 9)}`;\n\n    const baseClasses = [\n      'block px-3 py-2 border rounded-md shadow-sm',\n      'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500',\n      'transition-colors duration-200',\n      'disabled:opacity-50 disabled:cursor-not-allowed',\n      'appearance-none bg-no-repeat bg-right',\n      fullWidth ? 'w-full' : '',\n    ].join(' ');\n\n    const variantClasses = {\n      default: error\n        ? 'border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white',\n      filled: error\n        ? 'border-red-300 bg-red-50 text-red-900 focus:ring-red-500 focus:border-red-500'\n        : 'border-gray-300 bg-gray-50 text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-white',\n    };\n\n    const selectElement = (\n      <div className=\"relative\">\n        <select\n          ref={ref}\n          id={selectId}\n          className={`${baseClasses} ${variantClasses[variant]} ${\n            loading ? 'pr-10' : 'pr-8'\n          } ${className}`}\n          disabled={disabled || loading}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={\n            error ? `${selectId}-error` : helperText ? `${selectId}-helper` : undefined\n          }\n          {...props}\n        >\n          {placeholder && (\n            <option value=\"\" disabled>\n              {placeholder}\n            </option>\n          )}\n          {options.map((option) => (\n            <option\n              key={option.value}\n              value={option.value}\n              disabled={option.disabled}\n            >\n              {option.label}\n            </option>\n          ))}\n        </select>\n        \n        {/* Custom dropdown arrow */}\n        <div className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n          {loading ? (\n            <svg\n              className=\"animate-spin h-4 w-4 text-gray-400\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n          ) : (\n            <svg\n              className=\"h-4 w-4 text-gray-400\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          )}\n        </div>\n      </div>\n    );\n\n    if (!label && !error && !helperText) {\n      return selectElement;\n    }\n\n    return (\n      <div className={fullWidth ? 'w-full' : ''}>\n        {label && (\n          <label\n            htmlFor={selectId}\n            className={`block text-sm font-medium mb-1 ${\n              error\n                ? 'text-red-700 dark:text-red-400'\n                : 'text-gray-700 dark:text-gray-300'\n            }`}\n          >\n            {label}\n          </label>\n        )}\n        {selectElement}\n        {error && (\n          <p\n            id={`${selectId}-error`}\n            className=\"mt-1 text-sm text-red-600 dark:text-red-400\"\n            role=\"alert\"\n          >\n            {error}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${selectId}-helper`}\n            className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\"\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = 'Select';\n\nexport default Select;"],"names":[],"mappings":";;;;AAAA;;;AAmBA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EACtB,CACE,EACE,KAAK,EACL,KAAK,EACL,UAAU,EACV,OAAO,EACP,WAAW,EACX,UAAU,KAAK,EACf,YAAY,KAAK,EACjB,UAAU,SAAS,EACnB,YAAY,EAAE,EACd,EAAE,EACF,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,MAAM,WAAW,MAAM,CAAC,OAAO,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAE1E,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA,YAAY,WAAW;KACxB,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS,QACL,wEACA;QACJ,QAAQ,QACJ,kFACA;IACN;IAEA,MAAM,8BACJ,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EACpD,UAAU,UAAU,OACrB,CAAC,EAAE,WAAW;gBACf,UAAU,YAAY;gBACtB,gBAAc,QAAQ,SAAS;gBAC/B,oBACE,QAAQ,GAAG,SAAS,MAAM,CAAC,GAAG,aAAa,GAAG,SAAS,OAAO,CAAC,GAAG;gBAEnE,GAAG,KAAK;;oBAER,6BACC,8OAAC;wBAAO,OAAM;wBAAG,QAAQ;kCACtB;;;;;;oBAGJ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;4BAEC,OAAO,OAAO,KAAK;4BACnB,UAAU,OAAO,QAAQ;sCAExB,OAAO,KAAK;2BAJR,OAAO,KAAK;;;;;;;;;;;0BAUvB,8OAAC;gBAAI,WAAU;0BACZ,wBACC,8OAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;oBACR,eAAY;;sCAEZ,8OAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;6EAIN,8OAAC;oBACC,WAAU;oBACV,OAAM;oBACN,SAAQ;oBACR,MAAK;oBACL,eAAY;8BAEZ,cAAA,8OAAC;wBACC,UAAS;wBACT,GAAE;wBACF,UAAS;;;;;;;;;;;;;;;;;;;;;;IAQrB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY;QACnC,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,YAAY,WAAW;;YACpC,uBACC,8OAAC;gBACC,SAAS;gBACT,WAAW,CAAC,+BAA+B,EACzC,QACI,mCACA,oCACJ;0BAED;;;;;;YAGJ;YACA,uBACC,8OAAC;gBACC,IAAI,GAAG,SAAS,MAAM,CAAC;gBACvB,WAAU;gBACV,MAAK;0BAEJ;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,SAAS,OAAO,CAAC;gBACxB,WAAU;0BAET;;;;;;;;;;;;AAKX;AAGF,OAAO,WAAW,GAAG;uCAEN","debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Modal.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\n  closeOnOverlayClick?: boolean;\n  closeOnEscape?: boolean;\n  showCloseButton?: boolean;\n  className?: string;\n}\n\nconst Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'md',\n  closeOnOverlayClick = true,\n  closeOnEscape = true,\n  showCloseButton = true,\n  className = '',\n}) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n  const previousActiveElement = useRef<HTMLElement | null>(null);\n\n  const sizeClasses = {\n    sm: 'max-w-sm sm:max-w-md',\n    md: 'max-w-md sm:max-w-lg',\n    lg: 'max-w-lg sm:max-w-2xl',\n    xl: 'max-w-2xl sm:max-w-4xl',\n    full: 'max-w-full mx-2 sm:mx-4',\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      // Store the currently focused element\n      previousActiveElement.current = document.activeElement as HTMLElement;\n      \n      // Focus the modal\n      modalRef.current?.focus();\n      \n      // Prevent body scroll\n      document.body.style.overflow = 'hidden';\n    } else {\n      // Restore body scroll\n      document.body.style.overflow = '';\n      \n      // Restore focus to the previously focused element\n      if (previousActiveElement.current) {\n        previousActiveElement.current.focus();\n      }\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (closeOnEscape && event.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, closeOnEscape, onClose]);\n\n  const handleOverlayClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (closeOnOverlayClick && event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (event.key === 'Tab') {\n      // Trap focus within the modal\n      const focusableElements = modalRef.current?.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      \n      if (focusableElements && focusableElements.length > 0) {\n        const firstElement = focusableElements[0] as HTMLElement;\n        const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n        \n        if (event.shiftKey) {\n          if (document.activeElement === firstElement) {\n            event.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            event.preventDefault();\n            firstElement.focus();\n          }\n        }\n      }\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const modalContent = (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4\"\n      aria-labelledby={title ? 'modal-title' : undefined}\n      aria-modal=\"true\"\n      role=\"dialog\"\n    >\n      {/* Background overlay */}\n      <div\n        className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n        aria-hidden=\"true\"\n        onClick={handleOverlayClick}\n      />\n\n      {/* Modal panel */}\n      <div\n        ref={modalRef}\n        className={`relative bg-white dark:bg-gray-800 rounded-lg shadow-xl ${sizeClasses[size]} w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto ${className}`}\n        tabIndex={-1}\n        onKeyDown={handleKeyDown}\n      >\n        <div className=\"p-4 sm:p-6\">\n          {/* Header */}\n          {(title || showCloseButton) && (\n            <div className=\"flex items-center justify-between mb-4\">\n              {title && (\n                <h3\n                  id=\"modal-title\"\n                  className=\"text-lg font-medium text-gray-900 dark:text-white\"\n                >\n                  {title}\n                </h3>\n              )}\n              {showCloseButton && (\n                <button\n                  type=\"button\"\n                  className=\"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  onClick={onClose}\n                  aria-label=\"Close modal\"\n                >\n                  <svg\n                    className=\"h-6 w-6\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M6 18L18 6M6 6l12 12\"\n                    />\n                  </svg>\n                </button>\n              )}\n            </div>\n          )}\n\n          {/* Content */}\n          <div className=\"text-gray-900 dark:text-white\">\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return createPortal(modalContent, document.body);\n};\n\nexport default Modal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 860, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Card.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  padding?: 'none' | 'sm' | 'md' | 'lg';\n  variant?: 'default' | 'outlined' | 'elevated';\n  hover?: boolean;\n}\n\nconst Card: React.FC<CardProps> = ({\n  children,\n  className = '',\n  padding = 'md',\n  variant = 'default',\n  hover = false,\n}) => {\n  const baseClasses = [\n    'rounded-lg',\n    'transition-all duration-200',\n    hover ? 'hover:shadow-md cursor-pointer' : '',\n  ].join(' ');\n\n  const variantClasses = {\n    default: 'bg-white dark:bg-gray-800',\n    outlined: 'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700',\n    elevated: 'bg-white dark:bg-gray-800 shadow-sm',\n  };\n\n  const paddingClasses = {\n    none: '',\n    sm: 'p-3',\n    md: 'p-4',\n    lg: 'p-6',\n  };\n\n  return (\n    <div\n      className={`${baseClasses} ${variantClasses[variant]} ${paddingClasses[padding]} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport interface CardHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardHeader: React.FC<CardHeaderProps> = ({\n  children,\n  className = '',\n}) => {\n  return (\n    <div className={`border-b border-gray-200 dark:border-gray-700 pb-3 mb-4 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport interface CardTitleProps {\n  children: React.ReactNode;\n  className?: string;\n  as?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n}\n\nexport const CardTitle: React.FC<CardTitleProps> = ({\n  children,\n  className = '',\n  as: Component = 'h3',\n}) => {\n  return (\n    <Component className={`text-lg font-semibold text-gray-900 dark:text-white ${className}`}>\n      {children}\n    </Component>\n  );\n};\n\nexport interface CardContentProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardContent: React.FC<CardContentProps> = ({\n  children,\n  className = '',\n}) => {\n  return (\n    <div className={`text-gray-600 dark:text-gray-300 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport interface CardFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardFooter: React.FC<CardFooterProps> = ({\n  children,\n  className = '',\n}) => {\n  return (\n    <div className={`border-t border-gray-200 dark:border-gray-700 pt-3 mt-4 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport default Card;"],"names":[],"mappings":";;;;;;;;;AAUA,MAAM,OAA4B,CAAC,EACjC,QAAQ,EACR,YAAY,EAAE,EACd,UAAU,IAAI,EACd,UAAU,SAAS,EACnB,QAAQ,KAAK,EACd;IACC,MAAM,cAAc;QAClB;QACA;QACA,QAAQ,mCAAmC;KAC5C,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS;QACT,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,iBAAiB;QACrB,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;kBAE7F;;;;;;AAGP;AAOO,MAAM,aAAwC,CAAC,EACpD,QAAQ,EACR,YAAY,EAAE,EACf;IACC,qBACE,8OAAC;QAAI,WAAW,CAAC,wDAAwD,EAAE,WAAW;kBACnF;;;;;;AAGP;AAQO,MAAM,YAAsC,CAAC,EAClD,QAAQ,EACR,YAAY,EAAE,EACd,IAAI,YAAY,IAAI,EACrB;IACC,qBACE,8OAAC;QAAU,WAAW,CAAC,oDAAoD,EAAE,WAAW;kBACrF;;;;;;AAGP;AAOO,MAAM,cAA0C,CAAC,EACtD,QAAQ,EACR,YAAY,EAAE,EACf;IACC,qBACE,8OAAC;QAAI,WAAW,CAAC,iCAAiC,EAAE,WAAW;kBAC5D;;;;;;AAGP;AAOO,MAAM,aAAwC,CAAC,EACpD,QAAQ,EACR,YAAY,EAAE,EACf;IACC,qBACE,8OAAC;QAAI,WAAW,CAAC,wDAAwD,EAAE,WAAW;kBACnF;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Badge.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface BadgeProps {\n  children: React.ReactNode;\n  variant?: 'default' | 'primary' | 'secondary' | 'success' | 'warning' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nconst Badge: React.FC<BadgeProps> = ({\n  children,\n  variant = 'default',\n  size = 'md',\n  className = '',\n}) => {\n  const baseClasses = [\n    'inline-flex items-center font-medium rounded-full',\n    'transition-colors duration-200',\n  ].join(' ');\n\n  const variantClasses = {\n    default: 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300',\n    primary: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n    secondary: 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300',\n    success: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n    warning: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300',\n    danger: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',\n  };\n\n  const sizeClasses = {\n    sm: 'px-2 py-0.5 text-xs',\n    md: 'px-2.5 py-0.5 text-sm',\n    lg: 'px-3 py-1 text-base',\n  };\n\n  return (\n    <span\n      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport default Badge;"],"names":[],"mappings":";;;;;AASA,MAAM,QAA8B,CAAC,EACnC,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,EAAE,EACf;IACC,MAAM,cAAc;QAClB;QACA;KACD,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,SAAS;QACT,SAAS;QACT,WAAW;QACX,SAAS;QACT,SAAS;QACT,QAAQ;IACV;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;kBAEvF;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Spinner.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface SpinnerProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  color?: 'primary' | 'secondary' | 'white' | 'gray';\n  className?: string;\n}\n\nconst Spinner: React.FC<SpinnerProps> = ({\n  size = 'md',\n  color = 'primary',\n  className = '',\n}) => {\n  const sizeClasses = {\n    sm: 'h-4 w-4',\n    md: 'h-6 w-6',\n    lg: 'h-8 w-8',\n    xl: 'h-12 w-12',\n  };\n\n  const colorClasses = {\n    primary: 'text-blue-600',\n    secondary: 'text-gray-600',\n    white: 'text-white',\n    gray: 'text-gray-400',\n  };\n\n  return (\n    <svg\n      className={`animate-spin ${sizeClasses[size]} ${colorClasses[color]} ${className}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      aria-hidden=\"true\"\n      role=\"status\"\n    >\n      <circle\n        className=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      />\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      />\n    </svg>\n  );\n};\n\nexport interface LoadingProps {\n  text?: string;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  color?: 'primary' | 'secondary' | 'white' | 'gray';\n  className?: string;\n}\n\nexport const Loading: React.FC<LoadingProps> = ({\n  text = 'Loading...',\n  size = 'md',\n  color = 'primary',\n  className = '',\n}) => {\n  return (\n    <div className={`flex items-center justify-center space-x-2 ${className}`}>\n      <Spinner size={size} color={color} />\n      {text && (\n        <span className={`text-sm ${color === 'white' ? 'text-white' : 'text-gray-600 dark:text-gray-400'}`}>\n          {text}\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default Spinner;"],"names":[],"mappings":";;;;;;AAQA,MAAM,UAAkC,CAAC,EACvC,OAAO,IAAI,EACX,QAAQ,SAAS,EACjB,YAAY,EAAE,EACf;IACC,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,eAAe;QACnB,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,aAAa,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW;QAClF,OAAM;QACN,MAAK;QACL,SAAQ;QACR,eAAY;QACZ,MAAK;;0BAEL,8OAAC;gBACC,WAAU;gBACV,IAAG;gBACH,IAAG;gBACH,GAAE;gBACF,QAAO;gBACP,aAAY;;;;;;0BAEd,8OAAC;gBACC,WAAU;gBACV,MAAK;gBACL,GAAE;;;;;;;;;;;;AAIV;AASO,MAAM,UAAkC,CAAC,EAC9C,OAAO,YAAY,EACnB,OAAO,IAAI,EACX,QAAQ,SAAS,EACjB,YAAY,EAAE,EACf;IACC,qBACE,8OAAC;QAAI,WAAW,CAAC,2CAA2C,EAAE,WAAW;;0BACvE,8OAAC;gBAAQ,MAAM;gBAAM,OAAO;;;;;;YAC3B,sBACC,8OAAC;gBAAK,WAAW,CAAC,QAAQ,EAAE,UAAU,UAAU,eAAe,oCAAoC;0BAChG;;;;;;;;;;;;AAKX;uCAEe","debugId":null}},
    {"offset": {"line": 1064, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Alert.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface AlertProps {\n  children: React.ReactNode;\n  variant?: 'info' | 'success' | 'warning' | 'error';\n  title?: string;\n  dismissible?: boolean;\n  onDismiss?: () => void;\n  className?: string;\n}\n\nconst Alert: React.FC<AlertProps> = ({\n  children,\n  variant = 'info',\n  title,\n  dismissible = false,\n  onDismiss,\n  className = '',\n}) => {\n  const baseClasses = [\n    'rounded-md p-4 border',\n    'transition-all duration-200',\n  ].join(' ');\n\n  const variantClasses = {\n    info: 'bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300',\n    success: 'bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-300',\n    warning: 'bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300',\n    error: 'bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300',\n  };\n\n  const iconClasses = {\n    info: 'text-blue-400',\n    success: 'text-green-400',\n    warning: 'text-yellow-400',\n    error: 'text-red-400',\n  };\n\n  const getIcon = () => {\n    switch (variant) {\n      case 'success':\n        return (\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.236 4.53L7.53 10.53a.75.75 0 00-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case 'warning':\n        return (\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case 'error':\n        return (\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      default: // info\n        return (\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n    }\n  };\n\n  return (\n    <div className={`${baseClasses} ${variantClasses[variant]} ${className}`} role=\"alert\">\n      <div className=\"flex\">\n        <div className=\"flex-shrink-0\">\n          <div className={iconClasses[variant]}>\n            {getIcon()}\n          </div>\n        </div>\n        <div className=\"ml-3 flex-1\">\n          {title && (\n            <h3 className=\"text-sm font-medium mb-1\">\n              {title}\n            </h3>\n          )}\n          <div className=\"text-sm\">\n            {children}\n          </div>\n        </div>\n        {dismissible && onDismiss && (\n          <div className=\"ml-auto pl-3\">\n            <div className=\"-mx-1.5 -my-1.5\">\n              <button\n                type=\"button\"\n                className={`inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 ${iconClasses[variant]} hover:opacity-75`}\n                onClick={onDismiss}\n                aria-label=\"Dismiss alert\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                  <path d=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Alert;"],"names":[],"mappings":";;;;;AAWA,MAAM,QAA8B,CAAC,EACnC,QAAQ,EACR,UAAU,MAAM,EAChB,KAAK,EACL,cAAc,KAAK,EACnB,SAAS,EACT,YAAY,EAAE,EACf;IACC,MAAM,cAAc;QAClB;QACA;KACD,CAAC,IAAI,CAAC;IAEP,MAAM,iBAAiB;QACrB,MAAM;QACN,SAAS;QACT,SAAS;QACT,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,MAAM;QACN,SAAS;QACT,SAAS;QACT,OAAO;IACT;IAEA,MAAM,UAAU;QACd,OAAQ;YACN,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAU,SAAQ;oBAAY,MAAK;oBAAe,eAAY;8BAC3E,cAAA,8OAAC;wBAAK,UAAS;wBAAU,GAAE;wBAA0J,UAAS;;;;;;;;;;;YAGpM,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAU,SAAQ;oBAAY,MAAK;oBAAe,eAAY;8BAC3E,cAAA,8OAAC;wBAAK,UAAS;wBAAU,GAAE;wBAA6O,UAAS;;;;;;;;;;;YAGvR,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAU,SAAQ;oBAAY,MAAK;oBAAe,eAAY;8BAC3E,cAAA,8OAAC;wBAAK,UAAS;wBAAU,GAAE;wBAAgN,UAAS;;;;;;;;;;;YAG1P;gBACE,qBACE,8OAAC;oBAAI,WAAU;oBAAU,SAAQ;oBAAY,MAAK;oBAAe,eAAY;8BAC3E,cAAA,8OAAC;wBAAK,UAAS;wBAAU,GAAE;wBAA0O,UAAS;;;;;;;;;;;QAGtR;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;QAAE,MAAK;kBAC7E,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAW,WAAW,CAAC,QAAQ;kCACjC;;;;;;;;;;;8BAGL,8OAAC;oBAAI,WAAU;;wBACZ,uBACC,8OAAC;4BAAG,WAAU;sCACX;;;;;;sCAGL,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;gBAGJ,eAAe,2BACd,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,MAAK;4BACL,WAAW,CAAC,iFAAiF,EAAE,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC;4BACtI,SAAS;4BACT,cAAW;sCAEX,cAAA,8OAAC;gCAAI,WAAU;gCAAU,SAAQ;gCAAY,MAAK;gCAAe,eAAY;0CAC3E,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;uCAEe","debugId":null}},
    {"offset": {"line": 1274, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/Tooltip.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport interface TooltipProps {\n  children: React.ReactElement;\n  content: React.ReactNode;\n  placement?: 'top' | 'bottom' | 'left' | 'right';\n  delay?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nconst Tooltip: React.FC<TooltipProps> = ({\n  children,\n  content,\n  placement = 'top',\n  delay = 200,\n  disabled = false,\n  className = '',\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const triggerRef = useRef<HTMLElement>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const showTooltip = () => {\n    if (disabled) return;\n    \n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    \n    timeoutRef.current = setTimeout(() => {\n      setIsVisible(true);\n      updatePosition();\n    }, delay);\n  };\n\n  const hideTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    setIsVisible(false);\n  };\n\n  const updatePosition = () => {\n    if (!triggerRef.current) return;\n\n    const triggerRect = triggerRef.current.getBoundingClientRect();\n    const tooltipElement = tooltipRef.current;\n    \n    if (!tooltipElement) return;\n\n    const tooltipRect = tooltipElement.getBoundingClientRect();\n    const offset = 8; // Distance between trigger and tooltip\n\n    let x = 0;\n    let y = 0;\n\n    switch (placement) {\n      case 'top':\n        x = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n        y = triggerRect.top - tooltipRect.height - offset;\n        break;\n      case 'bottom':\n        x = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n        y = triggerRect.bottom + offset;\n        break;\n      case 'left':\n        x = triggerRect.left - tooltipRect.width - offset;\n        y = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n        break;\n      case 'right':\n        x = triggerRect.right + offset;\n        y = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n        break;\n    }\n\n    // Keep tooltip within viewport\n    const padding = 8;\n    x = Math.max(padding, Math.min(x, window.innerWidth - tooltipRect.width - padding));\n    y = Math.max(padding, Math.min(y, window.innerHeight - tooltipRect.height - padding));\n\n    setPosition({ x, y });\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      updatePosition();\n      window.addEventListener('scroll', updatePosition);\n      window.addEventListener('resize', updatePosition);\n    }\n\n    return () => {\n      window.removeEventListener('scroll', updatePosition);\n      window.removeEventListener('resize', updatePosition);\n    };\n  }, [isVisible, placement]);\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const getArrowClasses = () => {\n    const baseArrow = 'absolute w-2 h-2 bg-gray-900 dark:bg-gray-700 transform rotate-45';\n    \n    switch (placement) {\n      case 'top':\n        return `${baseArrow} -bottom-1 left-1/2 -translate-x-1/2`;\n      case 'bottom':\n        return `${baseArrow} -top-1 left-1/2 -translate-x-1/2`;\n      case 'left':\n        return `${baseArrow} -right-1 top-1/2 -translate-y-1/2`;\n      case 'right':\n        return `${baseArrow} -left-1 top-1/2 -translate-y-1/2`;\n      default:\n        return baseArrow;\n    }\n  };\n\n  const clonedTrigger = React.cloneElement(children, {\n    ref: triggerRef,\n    onMouseEnter: (e: React.MouseEvent) => {\n      showTooltip();\n      (children.props as any)?.onMouseEnter?.(e);\n    },\n    onMouseLeave: (e: React.MouseEvent) => {\n      hideTooltip();\n      (children.props as any)?.onMouseLeave?.(e);\n    },\n    onFocus: (e: React.FocusEvent) => {\n      showTooltip();\n      (children.props as any)?.onFocus?.(e);\n    },\n    onBlur: (e: React.FocusEvent) => {\n      hideTooltip();\n      (children.props as any)?.onBlur?.(e);\n    },\n  } as any);\n\n  const tooltipElement = isVisible && (\n    <div\n      ref={tooltipRef}\n      className={`fixed z-50 px-2 py-1 text-sm text-white bg-gray-900 dark:bg-gray-700 rounded shadow-lg pointer-events-none ${className}`}\n      style={{\n        left: position.x,\n        top: position.y,\n      }}\n      role=\"tooltip\"\n    >\n      {content}\n      <div className={getArrowClasses()} />\n    </div>\n  );\n\n  return (\n    <>\n      {clonedTrigger}\n      {tooltipElement && createPortal(tooltipElement, document.body)}\n    </>\n  );\n};\n\nexport default Tooltip;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1434, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/ui/index.ts"],"sourcesContent":["// Base UI Components\nexport { default as Button } from './Button';\nexport type { ButtonProps } from './Button';\n\nexport { default as Input } from './Input';\nexport type { InputProps } from './Input';\n\nexport { default as Textarea } from './Textarea';\nexport type { TextareaProps } from './Textarea';\n\nexport { default as Select } from './Select';\nexport type { SelectProps, SelectOption } from './Select';\n\nexport { default as Modal } from './Modal';\nexport type { ModalProps } from './Modal';\n\nexport { default as Card, CardHeader, CardTitle, CardContent, CardFooter } from './Card';\nexport type { CardProps, CardHeaderProps, CardTitleProps, CardContentProps, CardFooterProps } from './Card';\n\nexport { default as Badge } from './Badge';\nexport type { BadgeProps } from './Badge';\n\nexport { default as Spinner, Loading } from './Spinner';\nexport type { SpinnerProps, LoadingProps } from './Spinner';\n\nexport { default as Alert } from './Alert';\nexport type { AlertProps } from './Alert';\n\nexport { default as Tooltip } from './Tooltip';\nexport type { TooltipProps } from './Tooltip';"],"names":[],"mappings":"AAAA,qBAAqB;;AACrB;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA","debugId":null}},
    {"offset": {"line": 1500, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/hooks/useClickOutside.ts"],"sourcesContent":["import { useEffect, type RefObject } from 'react';\n\n/**\n * Hook that handles clicks outside of the specified element\n * @param ref - React ref object pointing to the element\n * @param handler - Function to call when clicking outside\n * @param enabled - Whether the hook should be active\n * @param excludeSelectors - CSS selectors for elements that should not trigger the handler\n */\nexport const useClickOutside = (\n  ref: RefObject<HTMLElement | null>,\n  handler: () => void,\n  enabled: boolean = true,\n  excludeSelectors: string[] = []\n) => {\n  useEffect(() => {\n    if (!enabled) return;\n\n    const handleClickOutside = (event: MouseEvent | TouchEvent) => {\n      // Check if the click is outside the ref element\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        // Check if the click is on any excluded elements\n        const target = event.target as Element;\n        const isExcluded = excludeSelectors.some(selector => {\n          try {\n            return target.closest(selector);\n          } catch (e) {\n            // Invalid selector, ignore\n            return false;\n          }\n        });\n\n        if (!isExcluded) {\n          handler();\n        }\n      }\n    };\n\n    // Add event listeners\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('touchstart', handleClickOutside);\n\n    // Cleanup\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('touchstart', handleClickOutside);\n    };\n  }, [ref, handler, enabled, excludeSelectors]);\n};\n\nexport default useClickOutside;"],"names":[],"mappings":";;;;AAAA;;AASO,MAAM,kBAAkB,CAC7B,KACA,SACA,UAAmB,IAAI,EACvB,mBAA6B,EAAE;IAE/B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,SAAS;QAEd,MAAM,qBAAqB,CAAC;YAC1B,gDAAgD;YAChD,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAC9D,iDAAiD;gBACjD,MAAM,SAAS,MAAM,MAAM;gBAC3B,MAAM,aAAa,iBAAiB,IAAI,CAAC,CAAA;oBACvC,IAAI;wBACF,OAAO,OAAO,OAAO,CAAC;oBACxB,EAAE,OAAO,GAAG;wBACV,2BAA2B;wBAC3B,OAAO;oBACT;gBACF;gBAEA,IAAI,CAAC,YAAY;oBACf;gBACF;YACF;QACF;QAEA,sBAAsB;QACtB,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,cAAc;QAExC,UAAU;QACV,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,cAAc;QAC7C;IACF,GAAG;QAAC;QAAK;QAAS;QAAS;KAAiB;AAC9C;uCAEe","debugId":null}},
    {"offset": {"line": 1547, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/hooks/useChatSessions.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport type { ChatSession } from '../../lib/types';\n\nexport const useChatSessions = () => {\n  // Mock data - in real implementation, this would come from a store/API\n  const [chatSessions, setChatSessions] = useState<ChatSession[]>([\n    {\n      id: '1',\n      title: 'Getting started with MCP',\n      messages: [],\n      createdAt: new Date('2024-01-15'),\n      updatedAt: new Date('2024-01-15'),\n      provider: 'openai',\n      model: 'gpt-4',\n      mcpServers: [],\n    },\n    {\n      id: '2', \n      title: 'File processing automation',\n      messages: [],\n      createdAt: new Date('2024-01-14'),\n      updatedAt: new Date('2024-01-14'),\n      provider: 'deepseek',\n      model: 'deepseek-chat',\n      mcpServers: [],\n    },\n    {\n      id: '3',\n      title: 'Data analysis workflow',\n      messages: [],\n      createdAt: new Date('2024-01-13'),\n      updatedAt: new Date('2024-01-13'),\n      provider: 'openrouter',\n      model: 'anthropic/claude-3-sonnet',\n      mcpServers: [],\n    },\n  ]);\n\n  const createSession = useCallback((provider: string, model: string) => {\n    const newSession: ChatSession = {\n      id: Date.now().toString(),\n      title: 'New Chat',\n      messages: [],\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      provider,\n      model,\n      mcpServers: [],\n    };\n    \n    setChatSessions(sessions => [newSession, ...sessions]);\n    return newSession.id;\n  }, []);\n\n  const updateSession = useCallback((sessionId: string, updates: Partial<ChatSession>) => {\n    setChatSessions(sessions =>\n      sessions.map(session =>\n        session.id === sessionId\n          ? { ...session, ...updates, updatedAt: new Date() }\n          : session\n      )\n    );\n  }, []);\n\n  const deleteSession = useCallback((sessionId: string) => {\n    setChatSessions(sessions =>\n      sessions.filter(session => session.id !== sessionId)\n    );\n  }, []);\n\n  const renameSession = useCallback((sessionId: string, newTitle: string) => {\n    updateSession(sessionId, { title: newTitle });\n  }, [updateSession]);\n\n  const getSession = useCallback((sessionId: string) => {\n    return chatSessions.find(session => session.id === sessionId);\n  }, [chatSessions]);\n\n  const searchSessions = useCallback((query: string) => {\n    if (!query.trim()) return chatSessions;\n    \n    return chatSessions.filter(session =>\n      session.title.toLowerCase().includes(query.toLowerCase())\n    );\n  }, [chatSessions]);\n\n  return {\n    chatSessions,\n    createSession,\n    updateSession,\n    deleteSession,\n    renameSession,\n    getSession,\n    searchSessions,\n  };\n};\n\nexport default useChatSessions;"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,kBAAkB;IAC7B,uEAAuE;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;QAC9D;YACE,IAAI;YACJ,OAAO;YACP,UAAU,EAAE;YACZ,WAAW,IAAI,KAAK;YACpB,WAAW,IAAI,KAAK;YACpB,UAAU;YACV,OAAO;YACP,YAAY,EAAE;QAChB;QACA;YACE,IAAI;YACJ,OAAO;YACP,UAAU,EAAE;YACZ,WAAW,IAAI,KAAK;YACpB,WAAW,IAAI,KAAK;YACpB,UAAU;YACV,OAAO;YACP,YAAY,EAAE;QAChB;QACA;YACE,IAAI;YACJ,OAAO;YACP,UAAU,EAAE;YACZ,WAAW,IAAI,KAAK;YACpB,WAAW,IAAI,KAAK;YACpB,UAAU;YACV,OAAO;YACP,YAAY,EAAE;QAChB;KACD;IAED,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC,UAAkB;QACnD,MAAM,aAA0B;YAC9B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,OAAO;YACP,UAAU,EAAE;YACZ,WAAW,IAAI;YACf,WAAW,IAAI;YACf;YACA;YACA,YAAY,EAAE;QAChB;QAEA,gBAAgB,CAAA,WAAY;gBAAC;mBAAe;aAAS;QACrD,OAAO,WAAW,EAAE;IACtB,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC,WAAmB;QACpD,gBAAgB,CAAA,WACd,SAAS,GAAG,CAAC,CAAA,UACX,QAAQ,EAAE,KAAK,YACX;oBAAE,GAAG,OAAO;oBAAE,GAAG,OAAO;oBAAE,WAAW,IAAI;gBAAO,IAChD;IAGV,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACjC,gBAAgB,CAAA,WACd,SAAS,MAAM,CAAC,CAAA,UAAW,QAAQ,EAAE,KAAK;IAE9C,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC,WAAmB;QACpD,cAAc,WAAW;YAAE,OAAO;QAAS;IAC7C,GAAG;QAAC;KAAc;IAElB,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC9B,OAAO,aAAa,IAAI,CAAC,CAAA,UAAW,QAAQ,EAAE,KAAK;IACrD,GAAG;QAAC;KAAa;IAEjB,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAClC,IAAI,CAAC,MAAM,IAAI,IAAI,OAAO;QAE1B,OAAO,aAAa,MAAM,CAAC,CAAA,UACzB,QAAQ,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,MAAM,WAAW;IAE1D,GAAG;QAAC;KAAa;IAEjB,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 1647, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/next/ChatSessionItem.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef } from 'react';\nimport { Button } from '../ui';\nimport { useClickOutside } from '../../hooks/useClickOutside';\nimport type { ChatSession } from '../../../lib/types';\n\ninterface ChatSessionItemProps {\n  session: ChatSession;\n  isActive: boolean;\n  onClick: () => void;\n  onRename: () => void;\n  onDelete: () => void;\n  onArchive: () => void;\n}\n\nexport const ChatSessionItem: React.FC<ChatSessionItemProps> = ({\n  session,\n  isActive,\n  onClick,\n  onRename,\n  onDelete,\n  onArchive,\n}) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  \n  // Close menu when clicking outside\n  useClickOutside(menuRef, () => setShowMenu(false), showMenu);\n  \n  const handleMenuToggle = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowMenu(!showMenu);\n  };\n  \n  const handleMenuAction = (action: () => void) => {\n    action();\n    setShowMenu(false);\n  };\n  \n  const formatDate = (date: Date) => {\n    const now = new Date();\n    const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60);\n    \n    if (diffInHours < 1) {\n      return 'Just now';\n    } else if (diffInHours < 24) {\n      return `${Math.floor(diffInHours)}h ago`;\n    } else if (diffInHours < 24 * 7) {\n      return `${Math.floor(diffInHours / 24)}d ago`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n  \n  const getProviderIcon = (provider: string) => {\n    switch (provider) {\n      case 'openai':\n        return (\n          <div className=\"w-3 h-3 bg-green-500 rounded-full flex-shrink-0\" title=\"OpenAI\" />\n        );\n      case 'deepseek':\n        return (\n          <div className=\"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0\" title=\"DeepSeek\" />\n        );\n      case 'openrouter':\n        return (\n          <div className=\"w-3 h-3 bg-purple-500 rounded-full flex-shrink-0\" title=\"OpenRouter\" />\n        );\n      default:\n        return (\n          <div className=\"w-3 h-3 bg-gray-500 rounded-full flex-shrink-0\" title={provider} />\n        );\n    }\n  };\n  \n  return (\n    <div className=\"relative\">\n      <button\n        onClick={onClick}\n        className={`\n          w-full text-left p-3 rounded-lg transition-colors duration-200\n          hover:bg-gray-100 dark:hover:bg-gray-800\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          ${isActive \n            ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800' \n            : 'border border-transparent'\n          }\n        `}\n        role=\"button\"\n        tabIndex={0}\n      >\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center space-x-2 mb-1\">\n              {getProviderIcon(session.provider)}\n              <h3 className={`\n                text-sm font-medium truncate\n                ${isActive \n                  ? 'text-blue-900 dark:text-blue-100' \n                  : 'text-gray-900 dark:text-white'\n                }\n              `}>\n                {session.title}\n              </h3>\n            </div>\n            \n            <div className=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400\">\n              <span>{session.messages?.length || 0} messages</span>\n              <span>{formatDate(session.updatedAt)}</span>\n            </div>\n            \n            <div className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n              {session.model}\n            </div>\n          </div>\n          \n          <div className=\"ml-2 flex-shrink-0\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleMenuToggle}\n              className=\"opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 p-1\"\n              aria-label=\"Session options\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n              </svg>\n            </Button>\n          </div>\n        </div>\n      </button>\n      \n      {/* Context Menu */}\n      {showMenu && (\n        <div\n          ref={menuRef}\n          className=\"absolute right-0 top-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10\"\n          role=\"menu\"\n        >\n          <div className=\"py-1\">\n            <button\n              onClick={() => handleMenuAction(onRename)}\n              className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center\"\n              role=\"menuitem\"\n            >\n              <svg className=\"w-4 h-4 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n              </svg>\n              Rename\n            </button>\n            \n            <button\n              onClick={() => handleMenuAction(onArchive)}\n              className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center\"\n              role=\"menuitem\"\n            >\n              <svg className=\"w-4 h-4 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8l4 4 4-4m6 5l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n              Archive\n            </button>\n            \n            <div className=\"border-t border-gray-200 dark:border-gray-600 my-1\" />\n            \n            <button\n              onClick={() => handleMenuAction(onDelete)}\n              className=\"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center\"\n              role=\"menuitem\"\n            >\n              <svg className=\"w-4 h-4 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n              Delete\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatSessionItem;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1997, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/services/apiClient.ts"],"sourcesContent":["import type {\n  ChatRequest,\n  ChatResponse,\n  RunToolRequest,\n  RunToolResponse,\n  ChatHistoryResponse,\n  Settings,\n  ApiError,\n  ChatSession,\n} from '../types';\n\n// API Configuration\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? '/api' \n  : 'http://localhost:3001/api';\n\nconst DEFAULT_TIMEOUT = 30000; // 30 seconds\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY = 1000; // 1 second\n\n// Error types\nexport class ApiClientError extends Error {\n  constructor(\n    message: string,\n    public statusCode?: number,\n    public originalError?: Error\n  ) {\n    super(message);\n    this.name = 'ApiClientError';\n  }\n}\n\nexport class NetworkError extends ApiClientError {\n  constructor(message: string, originalError?: Error) {\n    super(message, undefined, originalError);\n    this.name = 'NetworkError';\n  }\n}\n\nexport class TimeoutError extends ApiClientError {\n  constructor(message: string = 'Request timeout') {\n    super(message, 408);\n    this.name = 'TimeoutError';\n  }\n}\n\nexport class ValidationError extends ApiClientError {\n  constructor(message: string) {\n    super(message, 400);\n    this.name = 'ValidationError';\n  }\n}\n\n// Request/Response interceptor types\nexport interface RequestInterceptor {\n  (config: RequestConfig): RequestConfig | Promise<RequestConfig>;\n}\n\nexport interface ResponseInterceptor {\n  (response: Response): Response | Promise<Response>;\n}\n\nexport interface ErrorInterceptor {\n  (error: ApiClientError): ApiClientError | Promise<ApiClientError>;\n}\n\n// Request configuration\nexport interface RequestConfig {\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  url: string;\n  data?: any;\n  headers?: Record<string, string>;\n  timeout?: number;\n  retries?: number;\n  retryDelay?: number;\n  signal?: AbortSignal;\n}\n\n// Loading state management\nexport interface LoadingState {\n  isLoading: boolean;\n  operation?: string;\n  progress?: number;\n}\n\nexport type LoadingStateListener = (state: LoadingState) => void;\n\n// API Client class\nexport class ApiClient {\n  private requestInterceptors: RequestInterceptor[] = [];\n  private responseInterceptors: ResponseInterceptor[] = [];\n  private errorInterceptors: ErrorInterceptor[] = [];\n  private loadingStateListeners: LoadingStateListener[] = [];\n  private currentLoadingState: LoadingState = { isLoading: false };\n\n  constructor(private baseUrl: string = API_BASE_URL) {}\n\n  // Interceptor management\n  addRequestInterceptor(interceptor: RequestInterceptor): void {\n    this.requestInterceptors.push(interceptor);\n  }\n\n  addResponseInterceptor(interceptor: ResponseInterceptor): void {\n    this.responseInterceptors.push(interceptor);\n  }\n\n  addErrorInterceptor(interceptor: ErrorInterceptor): void {\n    this.errorInterceptors.push(interceptor);\n  }\n\n  // Loading state management\n  addLoadingStateListener(listener: LoadingStateListener): () => void {\n    this.loadingStateListeners.push(listener);\n    \n    // Return unsubscribe function\n    return () => {\n      const index = this.loadingStateListeners.indexOf(listener);\n      if (index > -1) {\n        this.loadingStateListeners.splice(index, 1);\n      }\n    };\n  }\n\n  private setLoadingState(state: Partial<LoadingState>): void {\n    this.currentLoadingState = { ...this.currentLoadingState, ...state };\n    this.loadingStateListeners.forEach(listener => listener(this.currentLoadingState));\n  }\n\n  getLoadingState(): LoadingState {\n    return { ...this.currentLoadingState };\n  }\n\n  // Utility methods\n  private async sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  private createAbortController(timeout: number): AbortController {\n    const controller = new AbortController();\n    setTimeout(() => controller.abort(), timeout);\n    return controller;\n  }\n\n  private async applyRequestInterceptors(config: RequestConfig): Promise<RequestConfig> {\n    let processedConfig = config;\n    \n    for (const interceptor of this.requestInterceptors) {\n      processedConfig = await interceptor(processedConfig);\n    }\n    \n    return processedConfig;\n  }\n\n  private async applyResponseInterceptors(response: Response): Promise<Response> {\n    let processedResponse = response;\n    \n    for (const interceptor of this.responseInterceptors) {\n      processedResponse = await interceptor(processedResponse);\n    }\n    \n    return processedResponse;\n  }\n\n  private async applyErrorInterceptors(error: ApiClientError): Promise<ApiClientError> {\n    let processedError = error;\n    \n    for (const interceptor of this.errorInterceptors) {\n      processedError = await interceptor(processedError);\n    }\n    \n    return processedError;\n  }\n\n  // Core request method with retry logic\n  private async makeRequest<T>(config: RequestConfig): Promise<T> {\n    const processedConfig = await this.applyRequestInterceptors(config);\n    const {\n      method,\n      url,\n      data,\n      headers = {},\n      timeout = DEFAULT_TIMEOUT,\n      retries = MAX_RETRIES,\n      retryDelay = RETRY_DELAY,\n      signal,\n    } = processedConfig;\n\n    const fullUrl = url.startsWith('http') ? url : `${this.baseUrl}${url}`;\n    \n    // Set loading state\n    this.setLoadingState({ \n      isLoading: true, \n      operation: `${method} ${url}` \n    });\n\n    let lastError: ApiClientError | null = null;\n    \n    for (let attempt = 0; attempt <= retries; attempt++) {\n      try {\n        // Create abort controller for timeout (unless signal is provided)\n        const controller = signal ? undefined : this.createAbortController(timeout);\n        const requestSignal = signal || controller?.signal;\n\n        const requestInit: RequestInit = {\n          method,\n          headers: {\n            'Content-Type': 'application/json',\n            ...headers,\n          },\n          signal: requestSignal,\n        };\n\n        if (data && method !== 'GET') {\n          requestInit.body = JSON.stringify(data);\n        }\n\n        console.log(' Making fetch request to:', fullUrl, 'with method:', method);\n        const response = await fetch(fullUrl, requestInit);\n        console.log(' Received response:', response.status, response.statusText);\n        const processedResponse = await this.applyResponseInterceptors(response);\n\n        if (!processedResponse.ok) {\n          let errorMessage = `HTTP ${processedResponse.status}: ${processedResponse.statusText}`;\n          let apiError: ApiError | null = null;\n\n          try {\n            const errorData = await processedResponse.json();\n            if (errorData.error || errorData.message) {\n              apiError = errorData as ApiError;\n              errorMessage = apiError.message || apiError.error || errorMessage;\n            }\n          } catch {\n            // If we can't parse the error response, use the default message\n          }\n\n          const error = new ApiClientError(\n            errorMessage,\n            processedResponse.status\n          );\n\n          throw await this.applyErrorInterceptors(error);\n        }\n\n        const result = await processedResponse.json();\n        console.log(' API Response received:', result);\n        \n        // Clear loading state on success\n        this.setLoadingState({ isLoading: false });\n        \n        return result;\n\n      } catch (error) {\n        if (error instanceof ApiClientError) {\n          lastError = error;\n        } else if (error instanceof DOMException && error.name === 'AbortError') {\n          lastError = new TimeoutError('Request timeout');\n        } else if (error instanceof TypeError && error.message.includes('fetch')) {\n          lastError = new NetworkError('Network error - please check your connection', error as Error);\n        } else {\n          lastError = new ApiClientError(\n            error instanceof Error ? error.message : 'Unknown error occurred',\n            undefined,\n            error as Error\n          );\n        }\n\n        // Don't retry on certain errors\n        if (lastError instanceof ValidationError || \n            lastError instanceof TimeoutError ||\n            (lastError.statusCode && lastError.statusCode >= 400 && lastError.statusCode < 500)) {\n          break;\n        }\n\n        // Wait before retrying (except on last attempt)\n        if (attempt < retries) {\n          await this.sleep(retryDelay * Math.pow(2, attempt)); // Exponential backoff\n        }\n      }\n    }\n\n    // Clear loading state on error\n    this.setLoadingState({ isLoading: false });\n\n    if (lastError) {\n      throw await this.applyErrorInterceptors(lastError);\n    }\n\n    throw new ApiClientError('Request failed after all retry attempts');\n  }\n\n  // HTTP method helpers\n  async get<T>(url: string, config?: Partial<RequestConfig>): Promise<T> {\n    return this.makeRequest<T>({\n      method: 'GET',\n      url,\n      ...config,\n    });\n  }\n\n  async post<T>(url: string, data?: any, config?: Partial<RequestConfig>): Promise<T> {\n    return this.makeRequest<T>({\n      method: 'POST',\n      url,\n      data,\n      ...config,\n    });\n  }\n\n  async put<T>(url: string, data?: any, config?: Partial<RequestConfig>): Promise<T> {\n    return this.makeRequest<T>({\n      method: 'PUT',\n      url,\n      data,\n      ...config,\n    });\n  }\n\n  async delete<T>(url: string, config?: Partial<RequestConfig>): Promise<T> {\n    return this.makeRequest<T>({\n      method: 'DELETE',\n      url,\n      ...config,\n    });\n  }\n\n  async patch<T>(url: string, data?: any, config?: Partial<RequestConfig>): Promise<T> {\n    return this.makeRequest<T>({\n      method: 'PATCH',\n      url,\n      data,\n      ...config,\n    });\n  }\n}\n\n// Create default API client instance\nexport const apiClient = new ApiClient();\n\n// Add default request interceptor for authentication/headers\napiClient.addRequestInterceptor((config) => {\n  // Add any default headers or authentication here\n  return {\n    ...config,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest',\n      ...config.headers,\n    },\n  };\n});\n\n// Add default error interceptor for logging\napiClient.addErrorInterceptor((error) => {\n  console.error('API Error:', {\n    message: error.message,\n    statusCode: error.statusCode,\n    originalError: error.originalError,\n  });\n  return error;\n});\n\n// Type-safe API methods\nexport const chatApi = {\n  // Send a chat message\n  sendMessage: (request: ChatRequest): Promise<ChatResponse> => {\n    console.log(' API Client: Sending chat request to /chat', {\n      ...request,\n      // Note: API key is now handled securely by the backend\n    });\n    return apiClient.post<ChatResponse>('/chat', request, {\n      timeout: 60000, // Longer timeout for chat responses\n    });\n  },\n\n  // Execute a tool\n  runTool: (request: RunToolRequest): Promise<RunToolResponse> => {\n    return apiClient.post<RunToolResponse>('/run-tool', request, {\n      timeout: 120000, // Even longer timeout for tool execution\n    });\n  },\n\n  // Cancel tool execution\n  cancelTool: (sessionId: string): Promise<{ success: boolean }> => {\n    return apiClient.post<{ success: boolean }>('/cancel-tool', { sessionId });\n  },\n\n  // Get chat history\n  getChatHistory: (): Promise<ChatHistoryResponse> => {\n    return apiClient.get<ChatHistoryResponse>('/chat-history');\n  },\n\n  // Get specific session\n  getSession: (sessionId: string): Promise<ChatSession> => {\n    return apiClient.get<ChatSession>(`/sessions/${sessionId}`);\n  },\n\n  // Delete session\n  deleteSession: (sessionId: string): Promise<{ success: boolean }> => {\n    return apiClient.delete<{ success: boolean }>(`/chat-history/${sessionId}`);\n  },\n\n  // Update session\n  updateSession: (sessionId: string, updates: Partial<ChatSession>): Promise<ChatSession> => {\n    return apiClient.put<ChatSession>(`/chat-history/${sessionId}`, updates);\n  },\n\n  // Generate session title\n  generateSessionTitle: (sessionId: string): Promise<{ title: string }> => {\n    return apiClient.post<{ title: string }>(`/chat-history/${sessionId}/generate-title`);\n  },\n};\n\nexport const settingsApi = {\n  // Get settings\n  getSettings: (): Promise<Settings> => {\n    return apiClient.get<Settings>('/settings');\n  },\n\n  // Update settings\n  updateSettings: (settings: Settings): Promise<Settings> => {\n    return apiClient.post<Settings>('/settings', settings);\n  },\n};\n\nexport const healthApi = {\n  // Health check\n  checkHealth: (): Promise<{ status: string; timestamp: string }> => {\n    return apiClient.get<{ status: string; timestamp: string }>('/health');\n  },\n};\n\n// Export everything\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2327, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/next/NewChatModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, Modal, Select } from '../ui';\nimport { settingsApi } from '../../services/apiClient';\nimport type { LLMProviderConfig, ModelInfo } from '../../../lib/types';\n\ninterface NewChatModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onCreateChat: (provider: string, model: string) => void;\n}\n\nexport const NewChatModal: React.FC<NewChatModalProps> = ({\n  isOpen,\n  onClose,\n  onCreateChat,\n}) => {\n  const [selectedProvider, setSelectedProvider] = useState('');\n  const [selectedModel, setSelectedModel] = useState('');\n  const [providers, setProviders] = useState<LLMProviderConfig[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Load providers when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      loadProviders();\n    }\n  }, [isOpen]);\n  \n  const loadProviders = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const settings = await settingsApi.getSettings();\n      // Only show enabled providers that have API keys configured\n      const enabledProviders = settings.llmProviders.filter(p => p.enabled && p.apiKey);\n      setProviders(enabledProviders);\n      \n      if (enabledProviders.length === 0) {\n        setError('No LLM providers are configured. Please configure providers in settings.');\n      }\n    } catch (err) {\n      console.error('Failed to load providers:', err);\n      setError('Failed to load provider configuration. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleCreateChat = () => {\n    if (selectedProvider && selectedModel) {\n      onCreateChat(selectedProvider, selectedModel);\n      handleClose();\n    }\n  };\n  \n  const handleClose = () => {\n    setSelectedProvider('');\n    setSelectedModel('');\n    setError(null);\n    onClose();\n  };\n  \n  const handleProviderChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setSelectedProvider(e.target.value);\n    setSelectedModel(''); // Reset model when provider changes\n  };\n  \n  // Get provider options for select\n  const providerOptions = providers.map(provider => ({\n    value: provider.name,\n    label: getProviderDisplayName(provider.name),\n  }));\n  \n  // Get model options for selected provider\n  const selectedProviderConfig = providers.find(p => p.name === selectedProvider);\n  const modelOptions = selectedProviderConfig?.models.map(model => ({\n    value: model.id,\n    label: `${model.displayName}${model.supportsToolCalling ? ' (Tool Calling)' : ''}`,\n  })) || [];\n  \n  function getProviderDisplayName(provider: string): string {\n    switch (provider) {\n      case 'openai':\n        return 'OpenAI';\n      case 'deepseek':\n        return 'DeepSeek';\n      case 'openrouter':\n        return 'OpenRouter';\n      default:\n        return provider.charAt(0).toUpperCase() + provider.slice(1);\n    }\n  }\n  \n  const getProviderIcon = (provider: string) => {\n    switch (provider) {\n      case 'openai':\n        return <div className=\"w-3 h-3 bg-green-500 rounded-full\" />;\n      case 'deepseek':\n        return <div className=\"w-3 h-3 bg-blue-500 rounded-full\" />;\n      case 'openrouter':\n        return <div className=\"w-3 h-3 bg-purple-500 rounded-full\" />;\n      default:\n        return <div className=\"w-3 h-3 bg-gray-500 rounded-full\" />;\n    }\n  };\n  \n  const selectedModelInfo = selectedProviderConfig?.models.find(m => m.id === selectedModel);\n  \n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={handleClose}\n      title=\"Start New Conversation\"\n      size=\"md\"\n    >\n      <div className=\"space-y-6\">\n        <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Select an LLM provider and model to start a new conversation. Only configured providers with valid API keys are shown.\n        </div>\n        \n        {loading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <span className=\"ml-3 text-sm text-gray-600 dark:text-gray-400\">\n              Loading providers...\n            </span>\n          </div>\n        ) : error ? (\n          <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4\">\n            <div className=\"flex\">\n              <svg className=\"w-5 h-5 text-red-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n                  Configuration Error\n                </h3>\n                <p className=\"mt-1 text-sm text-red-700 dark:text-red-300\">\n                  {error}\n                </p>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <Select\n              label=\"LLM Provider\"\n              options={providerOptions}\n              value={selectedProvider}\n              onChange={handleProviderChange}\n              placeholder=\"Select a provider\"\n              fullWidth\n            />\n            \n            {selectedProvider && (\n              <Select\n                label=\"Model\"\n                options={modelOptions}\n                value={selectedModel}\n                onChange={(e) => setSelectedModel(e.target.value)}\n                placeholder=\"Select a model\"\n                fullWidth\n              />\n            )}\n            \n            {selectedProvider && selectedModel && selectedModelInfo && (\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  {getProviderIcon(selectedProvider)}\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2\">\n                      Selected Configuration\n                    </h4>\n                    <div className=\"space-y-1 text-sm text-blue-800 dark:text-blue-200\">\n                      <div>\n                        <span className=\"font-medium\">Provider:</span> {getProviderDisplayName(selectedProvider)}\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">Model:</span> {selectedModelInfo.displayName}\n                      </div>\n                      {selectedModelInfo.maxTokens && (\n                        <div>\n                          <span className=\"font-medium\">Max Tokens:</span> {selectedModelInfo.maxTokens.toLocaleString()}\n                        </div>\n                      )}\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"font-medium\">Tool Calling:</span>\n                        {selectedModelInfo.supportsToolCalling ? (\n                          <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\">\n                             Supported\n                          </span>\n                        ) : (\n                          <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400\">\n                            Not supported\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n      \n      {/* Button area */}\n      <div className=\"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200 dark:border-gray-700\">\n        <Button\n          variant=\"outline\"\n          onClick={handleClose}\n        >\n          Cancel\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={handleCreateChat}\n          disabled={!selectedProvider || !selectedModel || loading}\n        >\n          Create Chat\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n\nexport default NewChatModal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2754, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/next/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { Button, Input, Modal } from '../ui';\nimport { useClickOutside } from '../../hooks/useClickOutside';\nimport { useChatSessions } from '../../hooks/useChatSessions';\nimport { ChatSessionItem } from './ChatSessionItem';\nimport { NewChatModal } from './NewChatModal';\nimport type { ChatSession } from '../../../lib/types';\n\ninterface SidebarProps {\n  isOpen: boolean;\n  onClose: () => void;\n  className?: string;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({\n  isOpen,\n  onClose,\n  className = '',\n}) => {\n  const router = useRouter();\n  const pathname = usePathname();\n  const sidebarRef = useRef<HTMLDivElement>(null);\n  \n  // State management\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [showRenameModal, setShowRenameModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedSession, setSelectedSession] = useState<ChatSession | null>(null);\n  const [newTitle, setNewTitle] = useState('');\n  \n  // Chat sessions hook\n  const {\n    chatSessions,\n    createSession,\n    updateSession,\n    deleteSession,\n    searchSessions,\n  } = useChatSessions();\n  \n  // Close sidebar when clicking outside (mobile)\n  useClickOutside(sidebarRef, onClose, isOpen);\n  \n  // Filter sessions based on search\n  const filteredSessions = searchSessions(searchQuery);\n  \n  // Get current session ID from pathname\n  const currentSessionId = pathname.startsWith('/chat/') \n    ? pathname.split('/')[2] \n    : null;\n  \n  // Handle keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!isOpen) return;\n      \n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    \n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, onClose]);\n  \n  // Handle new chat creation\n  const handleNewChat = () => {\n    setShowNewChatModal(true);\n  };\n  \n  const handleCreateChat = (provider: string, model: string) => {\n    const sessionId = createSession(provider, model);\n    setShowNewChatModal(false);\n    router.push(`/chat/${sessionId}`);\n    onClose(); // Close sidebar on mobile\n  };\n  \n  // Handle session selection\n  const handleSessionSelect = (sessionId: string) => {\n    router.push(`/chat/${sessionId}`);\n    onClose(); // Close sidebar on mobile\n  };\n  \n  // Handle session rename\n  const handleRenameSession = (session: ChatSession) => {\n    setSelectedSession(session);\n    setNewTitle(session.title);\n    setShowRenameModal(true);\n  };\n  \n  const handleConfirmRename = () => {\n    if (selectedSession && newTitle.trim()) {\n      updateSession(selectedSession.id, { title: newTitle.trim() });\n      setShowRenameModal(false);\n      setSelectedSession(null);\n      setNewTitle('');\n    }\n  };\n  \n  // Handle session deletion\n  const handleDeleteSession = (session: ChatSession) => {\n    setSelectedSession(session);\n    setShowDeleteModal(true);\n  };\n  \n  const handleConfirmDelete = () => {\n    if (selectedSession) {\n      deleteSession(selectedSession.id);\n      setShowDeleteModal(false);\n      setSelectedSession(null);\n      \n      // Navigate away if we're deleting the current session\n      if (currentSessionId === selectedSession.id) {\n        router.push('/');\n      }\n    }\n  };\n  \n  // Handle session archiving (for now, same as delete)\n  const handleArchiveSession = (session: ChatSession) => {\n    handleDeleteSession(session);\n  };\n  \n  return (\n    <>\n      {/* Mobile overlay */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\n          onClick={onClose}\n          aria-hidden=\"true\"\n        />\n      )}\n      \n      {/* Sidebar */}\n      <aside\n        ref={sidebarRef}\n        className={`\n          fixed lg:static inset-y-0 left-0 z-50 lg:z-auto\n          w-80 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700\n          transform transition-transform duration-300 ease-in-out lg:transform-none\n          ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n          flex flex-col h-full\n          ${className}\n        `}\n        aria-label=\"Chat navigation\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800\">\n          <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            MCP Chat UI\n          </h1>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"lg:hidden\"\n            onClick={onClose}\n            aria-label=\"Close sidebar\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </Button>\n        </div>\n        \n        {/* New Chat Button */}\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n          <Button\n            variant=\"primary\"\n            size=\"md\"\n            fullWidth\n            onClick={handleNewChat}\n            leftIcon={\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n              </svg>\n            }\n          >\n            New Chat\n          </Button>\n        </div>\n        \n        {/* Search */}\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n          <Input\n            placeholder=\"Search conversations...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            leftIcon={\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            }\n            fullWidth\n          />\n        </div>\n        \n        {/* Chat History */}\n        <div className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-4\">\n            <h2 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3\">\n              Recent Conversations\n            </h2>\n            \n            {filteredSessions.length === 0 ? (\n              <div className=\"text-sm text-gray-500 dark:text-gray-400 text-center py-8\">\n                {searchQuery ? 'No matching conversations found' : 'No conversations yet'}\n              </div>\n            ) : (\n              <div className=\"space-y-1\">\n                {filteredSessions.map((session) => (\n                  <ChatSessionItem\n                    key={session.id}\n                    session={session}\n                    isActive={currentSessionId === session.id}\n                    onClick={() => handleSessionSelect(session.id)}\n                    onRename={() => handleRenameSession(session)}\n                    onDelete={() => handleDeleteSession(session)}\n                    onArchive={() => handleArchiveSession(session)}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Footer */}\n        <div className=\"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800\">\n          <div className=\"space-y-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              fullWidth\n              onClick={() => router.push('/settings')}\n              leftIcon={\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n              }\n            >\n              Settings\n            </Button>\n            \n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              fullWidth\n              onClick={() => router.push('/history')}\n              leftIcon={\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              }\n            >\n              History\n            </Button>\n          </div>\n          \n          <div className=\"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center\">\n            Version 1.0.0\n          </div>\n        </div>\n      </aside>\n      \n      {/* Modals */}\n      <NewChatModal\n        isOpen={showNewChatModal}\n        onClose={() => setShowNewChatModal(false)}\n        onCreateChat={handleCreateChat}\n      />\n      \n      {/* Rename Modal */}\n      <Modal\n        isOpen={showRenameModal}\n        onClose={() => setShowRenameModal(false)}\n        title=\"Rename Conversation\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          <Input\n            label=\"Conversation Title\"\n            value={newTitle}\n            onChange={(e) => setNewTitle(e.target.value)}\n            placeholder=\"Enter new title\"\n            fullWidth\n            autoFocus\n          />\n          \n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowRenameModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary\"\n              onClick={handleConfirmRename}\n              disabled={!newTitle.trim()}\n            >\n              Save\n            </Button>\n          </div>\n        </div>\n      </Modal>\n      \n      {/* Delete Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Delete Conversation\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-700 dark:text-gray-300\">\n            Are you sure you want to delete \"{selectedSession?.title}\"? This action cannot be undone.\n          </p>\n          \n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              onClick={handleConfirmDelete}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default Sidebar;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3298, "column": 0}, "map": {"version":3,"sources":["file:///Users/onebird/github/mcp-chat-client/src/components/next/NavigationLayout.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { Button } from '../ui';\nimport { Sidebar } from './Sidebar';\n\ninterface NavigationLayoutProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const NavigationLayout: React.FC<NavigationLayoutProps> = ({\n  children,\n  className = '',\n}) => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const pathname = usePathname();\n  \n  // Detect mobile screen size\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 1024); // lg breakpoint\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n  \n  // Close sidebar on route change (mobile)\n  useEffect(() => {\n    if (isMobile) {\n      setSidebarOpen(false);\n    }\n  }, [pathname, isMobile]);\n  \n  // Handle keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Cmd/Ctrl + B to toggle sidebar\n      if ((event.metaKey || event.ctrlKey) && event.key === 'b') {\n        event.preventDefault();\n        setSidebarOpen(!sidebarOpen);\n      }\n    };\n    \n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [sidebarOpen]);\n  \n  return (\n    <div className={`flex min-h-screen bg-gray-50 dark:bg-gray-900 ${className}`}>\n      {/* Sidebar */}\n      <Sidebar\n        isOpen={sidebarOpen || !isMobile} // Always open on desktop\n        onClose={() => setSidebarOpen(false)}\n      />\n      \n      {/* Main content area */}\n      <div className=\"flex-1 flex flex-col min-w-0\">\n        {/* Mobile header with menu button */}\n        {isMobile && (\n          <header className=\"lg:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3\">\n            <div className=\"flex items-center justify-between\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setSidebarOpen(true)}\n                aria-label=\"Open sidebar\"\n                className=\"p-2\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                </svg>\n              </Button>\n              \n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                MCP Chat UI\n              </h1>\n              \n              <div className=\"w-10\" /> {/* Spacer for centering */}\n            </div>\n          </header>\n        )}\n        \n        {/* Main content */}\n        <main className=\"flex-1 flex flex-col overflow-hidden\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default NavigationLayout;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAYO,MAAM,mBAAoD,CAAC,EAChE,QAAQ,EACR,YAAY,EAAE,EACf;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,4BAA4B;IAC5B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc;YAClB,YAAY,OAAO,UAAU,GAAG,OAAO,gBAAgB;QACzD;QAEA;QACA,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,yCAAyC;IACzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU;YACZ,eAAe;QACjB;IACF,GAAG;QAAC;QAAU;KAAS;IAEvB,4BAA4B;IAC5B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB,CAAC;YACrB,iCAAiC;YACjC,IAAI,CAAC,MAAM,OAAO,IAAI,MAAM,OAAO,KAAK,MAAM,GAAG,KAAK,KAAK;gBACzD,MAAM,cAAc;gBACpB,eAAe,CAAC;YAClB;QACF;QAEA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;KAAY;IAEhB,qBACE,8OAAC;QAAI,WAAW,CAAC,8CAA8C,EAAE,WAAW;;0BAE1E,8OAAC,qIAAA,CAAA,UAAO;gBACN,QAAQ,eAAe,CAAC;gBACxB,SAAS,IAAM,eAAe;;;;;;0BAIhC,8OAAC;gBAAI,WAAU;;oBAEZ,0BACC,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,eAAe;oCAC9B,cAAW;oCACX,WAAU;8CAEV,cAAA,8OAAC;wCAAI,WAAU;wCAAU,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDACjE,cAAA,8OAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;8CAIzE,8OAAC;oCAAG,WAAU;8CAAsD;;;;;;8CAIpE,8OAAC;oCAAI,WAAU;;;;;;gCAAS;;;;;;;;;;;;kCAM9B,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX;uCAEe","debugId":null}}]
}