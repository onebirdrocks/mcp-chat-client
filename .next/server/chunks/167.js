exports.id=167,exports.ids=[167],exports.modules={5298:(a,b,c)=>{"use strict";c.d(b,{NewChatModal:()=>n});var d=c(60687),e=c(43210),f=c(55102);class g extends Error{constructor(a,b,c){super(a),this.statusCode=b,this.originalError=c,this.name="ApiClientError"}}class h extends g{constructor(a,b){super(a,void 0,b),this.name="NetworkError"}}class i extends g{constructor(a="Request timeout"){super(a,408),this.name="TimeoutError"}}class j extends g{constructor(a){super(a,400),this.name="ValidationError"}}class k{constructor(a="/api"){this.baseUrl=a,this.requestInterceptors=[],this.responseInterceptors=[],this.errorInterceptors=[],this.loadingStateListeners=[],this.currentLoadingState={isLoading:!1}}addRequestInterceptor(a){this.requestInterceptors.push(a)}addResponseInterceptor(a){this.responseInterceptors.push(a)}addErrorInterceptor(a){this.errorInterceptors.push(a)}addLoadingStateListener(a){return this.loadingStateListeners.push(a),()=>{let b=this.loadingStateListeners.indexOf(a);b>-1&&this.loadingStateListeners.splice(b,1)}}setLoadingState(a){this.currentLoadingState={...this.currentLoadingState,...a},this.loadingStateListeners.forEach(a=>a(this.currentLoadingState))}getLoadingState(){return{...this.currentLoadingState}}async sleep(a){return new Promise(b=>setTimeout(b,a))}createAbortController(a){let b=new AbortController;return setTimeout(()=>b.abort(),a),b}async applyRequestInterceptors(a){let b=a;for(let a of this.requestInterceptors)b=await a(b);return b}async applyResponseInterceptors(a){let b=a;for(let a of this.responseInterceptors)b=await a(b);return b}async applyErrorInterceptors(a){let b=a;for(let a of this.errorInterceptors)b=await a(b);return b}async makeRequest(a){let{method:b,url:c,data:d,headers:e={},timeout:f=3e4,retries:k=3,retryDelay:l=1e3,signal:m}=await this.applyRequestInterceptors(a),n=c.startsWith("http")?c:`${this.baseUrl}${c}`;this.setLoadingState({isLoading:!0,operation:`${b} ${c}`});let o=null;for(let a=0;a<=k;a++)try{let a=m?void 0:this.createAbortController(f),c=m||a?.signal,h={method:b,headers:{"Content-Type":"application/json",...e},signal:c};d&&"GET"!==b&&(h.body=JSON.stringify(d)),console.log("\uD83C\uDF10 Making fetch request to:",n,"with method:",b);let i=await fetch(n,h);console.log("\uD83C\uDF10 Received response:",i.status,i.statusText);let j=await this.applyResponseInterceptors(i);if(!j.ok){let a=`HTTP ${j.status}: ${j.statusText}`,b=null;try{let c=await j.json();(c.error||c.message)&&(a=(b=c).message||b.error||a)}catch{}let c=new g(a,j.status);throw await this.applyErrorInterceptors(c)}let k=await j.json();return console.log("\uD83C\uDF10 API Response received:",k),this.setLoadingState({isLoading:!1}),k}catch(b){if((o=b instanceof g?b:b instanceof DOMException&&"AbortError"===b.name?new i("Request timeout"):b instanceof TypeError&&b.message.includes("fetch")?new h("Network error - please check your connection",b):new g(b instanceof Error?b.message:"Unknown error occurred",void 0,b))instanceof j||o instanceof i||o.statusCode&&o.statusCode>=400&&o.statusCode<500)break;a<k&&await this.sleep(l*Math.pow(2,a))}if(this.setLoadingState({isLoading:!1}),o)throw await this.applyErrorInterceptors(o);throw new g("Request failed after all retry attempts")}async get(a,b){return this.makeRequest({method:"GET",url:a,...b})}async post(a,b,c){return this.makeRequest({method:"POST",url:a,data:b,...c})}async put(a,b,c){return this.makeRequest({method:"PUT",url:a,data:b,...c})}async delete(a,b){return this.makeRequest({method:"DELETE",url:a,...b})}async patch(a,b,c){return this.makeRequest({method:"PATCH",url:a,data:b,...c})}}let l=new k;l.addRequestInterceptor(a=>({...a,headers:{"X-Requested-With":"XMLHttpRequest",...a.headers}})),l.addErrorInterceptor(a=>(console.error("API Error:",{message:a.message,statusCode:a.statusCode,originalError:a.originalError}),a));let m={getSettings:()=>l.get("/settings")},n=({isOpen:a,onClose:b,onCreateChat:c})=>{let[g,h]=(0,e.useState)(""),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)([]),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(null);(0,e.useEffect)(()=>{a&&r()},[a]);let r=async()=>{o(!0),q(null);try{let a=(await m.getSettings()).llmProviders.filter(a=>a.enabled&&a.apiKey);l(a),0===a.length&&q("No LLM providers are configured. Please configure providers in settings.")}catch(a){console.error("Failed to load providers:",a),q("Failed to load provider configuration. Please try again.")}finally{o(!1)}},s=()=>{h(""),j(""),q(null),b()},t=k.map(a=>({value:a.name,label:w(a.name)})),u=k.find(a=>a.name===g),v=u?.models.map(a=>({value:a.id,label:`${a.displayName}${a.supportsToolCalling?" (Tool Calling)":""}`}))||[];function w(a){switch(a){case"openai":return"OpenAI";case"deepseek":return"DeepSeek";case"openrouter":return"OpenRouter";default:return a.charAt(0).toUpperCase()+a.slice(1)}}let x=u?.models.find(a=>a.id===i);return(0,d.jsxs)(f.aF,{isOpen:a,onClose:s,title:"Start New Conversation",size:"md",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select an LLM provider and model to start a new conversation. Only configured providers with valid API keys are shown."}),n?(0,d.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,d.jsx)("span",{className:"ml-3 text-sm text-gray-600 dark:text-gray-400",children:"Loading providers..."})]}):p?(0,d.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Configuration Error"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:p})]})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.l6,{label:"LLM Provider",options:t,value:g,onChange:a=>{h(a.target.value),j("")},placeholder:"Select a provider",fullWidth:!0}),g&&(0,d.jsx)(f.l6,{label:"Model",options:v,value:i,onChange:a=>j(a.target.value),placeholder:"Select a model",fullWidth:!0}),g&&i&&x&&(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(a=>{switch(a){case"openai":return(0,d.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"});case"deepseek":return(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"});case"openrouter":return(0,d.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"});default:return(0,d.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full"})}})(g),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Selected Configuration"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Provider:"})," ",w(g)]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Model:"})," ",x.displayName]}),x.maxTokens&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Max Tokens:"})," ",x.maxTokens.toLocaleString()]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"font-medium",children:"Tool Calling:"}),x.supportsToolCalling?(0,d.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"âœ“ Supported"}):(0,d.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400",children:"Not supported"})]})]})]})]})})]})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,d.jsx)(f.$n,{variant:"outline",onClick:s,children:"Cancel"}),(0,d.jsx)(f.$n,{variant:"primary",onClick:()=>{g&&i&&(c(g,i),s())},disabled:!g||!i||n,children:"Create Chat"})]})]})}},7685:(a,b,c)=>{"use strict";c.d(b,{NewChatModal:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call NewChatModal() from the server but NewChatModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/NewChatModal.tsx","NewChatModal");(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/onebird/github/mcp-chat-client/src/components/next/NewChatModal.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/NewChatModal.tsx","default")},28430:(a,b,c)=>{"use strict";c.d(b,{NavigationLayout:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call NavigationLayout() from the server but NavigationLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/NavigationLayout.tsx","NavigationLayout");(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/onebird/github/mcp-chat-client/src/components/next/NavigationLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/NavigationLayout.tsx","default")},29883:(a,b,c)=>{"use strict";c.d(b,{Kf:()=>g,jG:()=>e,od:()=>f});var d=c(44999);async function e(){let a=await (0,d.UL)(),b=await (0,d.b3)(),c=a.get("theme");return c?.value&&["light","dark","system"].includes(c.value)?c.value:(b.get("accept")||"").includes("prefers-color-scheme: dark")?"dark":"system"}async function f(){let a=await (0,d.UL)(),b=await (0,d.b3)(),c=a.get("language");return c?.value&&["en","zh"].includes(c.value)?c.value:(b.get("accept-language")||"").includes("zh")?"zh":"en"}async function g(){let a=(await (0,d.b3)()).get("user-agent")||"",b=/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a),c=/iPad|Android(?!.*Mobile)/i.test(a),e="unknown";return a.includes("Chrome")?e="chrome":a.includes("Firefox")?e="firefox":a.includes("Safari")?e="safari":a.includes("Edge")&&(e="edge"),{isMobile:b,isTablet:c,isDesktop:!b&&!c,browser:e}}},32979:()=>{},33396:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},43292:(a,b,c)=>{"use strict";c.d(b,{NavigationLayout:()=>i});var d=c(60687),e=c(43210),f=c(16189),g=c(55102),h=c(94924);let i=({children:a,className:b=""})=>{let[c,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(!1),l=(0,f.usePathname)();return(0,e.useEffect)(()=>{let a=()=>{k(window.innerWidth<1024)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),(0,e.useEffect)(()=>{j&&i(!1)},[l,j]),(0,e.useEffect)(()=>{let a=a=>{(a.metaKey||a.ctrlKey)&&"b"===a.key&&(a.preventDefault(),i(!c))};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[c]),(0,d.jsxs)("div",{className:`flex min-h-screen bg-gray-50 dark:bg-gray-900 ${b}`,children:[(0,d.jsx)(h.Sidebar,{isOpen:c||!j,onClose:()=>i(!1)}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[j&&(0,d.jsx)("header",{className:"lg:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(g.$n,{variant:"ghost",size:"sm",onClick:()=>i(!0),"aria-label":"Open sidebar",className:"p-2",children:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"MCP Chat UI"}),(0,d.jsx)("div",{className:"w-10"})," "]})}),(0,d.jsx)("main",{className:"flex-1 flex flex-col overflow-hidden",children:a})]})]})}},55102:(a,b,c)=>{"use strict";c.d(b,{$n:()=>g,pd:()=>i,aF:()=>m,l6:()=>k});var d=c(60687),e=c(43210);let f=(0,e.forwardRef)(({children:a,variant:b="primary",size:c="md",loading:e=!1,leftIcon:f,rightIcon:g,fullWidth:h=!1,disabled:i,className:j="",tooltip:k,shortcut:l,...m},n)=>{let o=["inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed relative",h?"w-full":""].join(" ");return(0,d.jsx)("button",{ref:n,className:`${o} ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[b]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]} ${j}`,disabled:i||e,"aria-disabled":i||e,"aria-busy":e,title:k,...m,children:e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(()=>(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),{}),(0,d.jsx)("span",{className:"ml-2","aria-live":"polite",children:a})]}):(0,d.jsxs)(d.Fragment,{children:[f&&(0,d.jsx)("span",{className:"mr-2","aria-hidden":"true",children:f}),(0,d.jsx)("span",{children:a}),l&&(0,d.jsx)("span",{className:"ml-2 text-xs opacity-70","aria-label":`Keyboard shortcut: ${l}`,children:(0,d.jsx)("kbd",{className:"px-1 py-0.5 bg-black/10 dark:bg-white/10 rounded text-xs",children:l})}),g&&(0,d.jsx)("span",{className:"ml-2","aria-hidden":"true",children:g})]})})});f.displayName="Button";let g=f,h=(0,e.forwardRef)(({label:a,error:b,helperText:c,leftIcon:f,rightIcon:g,loading:h=!1,fullWidth:i=!1,variant:j="default",className:k="",id:l,type:m="text",disabled:n,...o},p)=>{let[,q]=(0,e.useState)(!1),r=l||`input-${Math.random().toString(36).substring(2,11)}`,s=["block px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",i?"w-full":""].join(" "),t=(0,d.jsxs)("div",{className:"relative",children:[f&&(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)("span",{className:"text-gray-400","aria-hidden":"true",children:f})}),(0,d.jsx)("input",{ref:p,id:r,type:m,className:`${s} ${{default:b?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",filled:b?"border-red-300 bg-red-50 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400"}[j]} ${f?"pl-10":""} ${g||h?"pr-10":""} ${k}`,disabled:n||h,"aria-invalid":b?"true":"false","aria-busy":h,"aria-required":o.required,"aria-describedby":b?`${r}-error`:c?`${r}-helper`:void 0,onFocus:a=>{q(!0),o.onFocus?.(a)},onBlur:a=>{q(!1),o.onBlur?.(a)},...o}),(g||h)&&(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:h?(0,d.jsx)(()=>(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),{}):(0,d.jsx)("span",{className:"text-gray-400","aria-hidden":"true",children:g})})]});return a||b||c?(0,d.jsxs)("div",{className:i?"w-full":"",children:[a&&(0,d.jsx)("label",{htmlFor:r,className:`block text-sm font-medium mb-1 ${b?"text-red-700 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:a}),t,b&&(0,d.jsx)("p",{id:`${r}-error`,className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:b}),c&&!b&&(0,d.jsx)("p",{id:`${r}-helper`,className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c})]}):t});h.displayName="Input";let i=h;(0,e.forwardRef)(({label:a,error:b,helperText:c,loading:f=!1,fullWidth:g=!1,variant:h="default",autoResize:i=!1,maxRows:j,minRows:k=3,className:l="",id:m,disabled:n,onChange:o,...p},q)=>{let r=(0,e.useRef)(null),s=m||`textarea-${Math.random().toString(36).substr(2,9)}`,t=()=>{let a=r.current;if(!a||!i)return;a.style.height="auto";let b=a.scrollHeight,c=parseInt(getComputedStyle(a).lineHeight),d=parseInt(getComputedStyle(a).paddingTop),e=parseInt(getComputedStyle(a).paddingBottom),f=b;j&&(f=Math.min(f,c*j+d+e)),f=Math.max(f,c*k+d+e),a.style.height=`${f}px`};(0,e.useEffect)(()=>{t()},[p.value,i,j,k]);let u=["block px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed resize-none",g?"w-full":""].join(" "),v=(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("textarea",{ref:a=>{r.current=a,"function"==typeof q?q(a):q&&(q.current=a)},id:s,className:`${u} ${{default:b?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",filled:b?"border-red-300 bg-red-50 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400"}[h]} ${f?"pr-10":""} ${l}`,disabled:n||f,"aria-invalid":b?"true":"false","aria-describedby":b?`${s}-error`:c?`${s}-helper`:void 0,rows:i?k:p.rows||k,onChange:a=>{i&&t(),o?.(a)},...p}),f&&(0,d.jsx)("div",{className:"absolute top-3 right-3 pointer-events-none",children:(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]});return a||b||c?(0,d.jsxs)("div",{className:g?"w-full":"",children:[a&&(0,d.jsx)("label",{htmlFor:s,className:`block text-sm font-medium mb-1 ${b?"text-red-700 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:a}),v,b&&(0,d.jsx)("p",{id:`${s}-error`,className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:b}),c&&!b&&(0,d.jsx)("p",{id:`${s}-helper`,className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c})]}):v}).displayName="Textarea";let j=(0,e.forwardRef)(({label:a,error:b,helperText:c,options:e,placeholder:f,loading:g=!1,fullWidth:h=!1,variant:i="default",className:j="",id:k,disabled:l,...m},n)=>{let o=k||`select-${Math.random().toString(36).substr(2,9)}`,p=["block px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed appearance-none bg-no-repeat bg-right",h?"w-full":""].join(" "),q=(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("select",{ref:n,id:o,className:`${p} ${{default:b?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-gray-300 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",filled:b?"border-red-300 bg-red-50 text-red-900 focus:ring-red-500 focus:border-red-500":"border-gray-300 bg-gray-50 text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-white"}[i]} ${g?"pr-10":"pr-8"} ${j}`,disabled:l||g,"aria-invalid":b?"true":"false","aria-describedby":b?`${o}-error`:c?`${o}-helper`:void 0,...m,children:[f&&(0,d.jsx)("option",{value:"",disabled:!0,children:f}),e.map(a=>(0,d.jsx)("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:g?(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,d.jsx)("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]});return a||b||c?(0,d.jsxs)("div",{className:h?"w-full":"",children:[a&&(0,d.jsx)("label",{htmlFor:o,className:`block text-sm font-medium mb-1 ${b?"text-red-700 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:a}),q,b&&(0,d.jsx)("p",{id:`${o}-error`,className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:b}),c&&!b&&(0,d.jsx)("p",{id:`${o}-helper`,className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c})]}):q});j.displayName="Select";let k=j;var l=c(51215);let m=({isOpen:a,onClose:b,title:c,children:f,size:g="md",closeOnOverlayClick:h=!0,closeOnEscape:i=!0,showCloseButton:j=!0,className:k=""})=>{let m=(0,e.useRef)(null),n=(0,e.useRef)(null);if((0,e.useEffect)(()=>(a?(n.current=document.activeElement,m.current?.focus(),document.body.style.overflow="hidden"):(document.body.style.overflow="",n.current&&n.current.focus()),()=>{document.body.style.overflow=""}),[a]),(0,e.useEffect)(()=>{let c=a=>{i&&"Escape"===a.key&&b()};return a&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[a,i,b]),!a)return null;let o=(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4","aria-labelledby":c?"modal-title":void 0,"aria-modal":"true",role:"dialog",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a=>{h&&a.target===a.currentTarget&&b()}}),(0,d.jsx)("div",{ref:m,className:`relative bg-white dark:bg-gray-800 rounded-lg shadow-xl ${{sm:"max-w-sm sm:max-w-md",md:"max-w-md sm:max-w-lg",lg:"max-w-lg sm:max-w-2xl",xl:"max-w-2xl sm:max-w-4xl",full:"max-w-full mx-2 sm:mx-4"}[g]} w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto ${k}`,tabIndex:-1,onKeyDown:a=>{if("Tab"===a.key){let b=m.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(b&&b.length>0){let c=b[0],d=b[b.length-1];a.shiftKey?document.activeElement===c&&(a.preventDefault(),d.focus()):document.activeElement===d&&(a.preventDefault(),c.focus())}}},children:(0,d.jsxs)("div",{className:"p-4 sm:p-6",children:[(c||j)&&(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[c&&(0,d.jsx)("h3",{id:"modal-title",className:"text-lg font-medium text-gray-900 dark:text-white",children:c}),j&&(0,d.jsx)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:b,"aria-label":"Close modal",children:(0,d.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,d.jsx)("div",{className:"text-gray-900 dark:text-white",children:f})]})})]});return(0,l.createPortal)(o,document.body)}},57028:(a,b,c)=>{"use strict";c.d(b,{Z:()=>g,r:()=>f,zR:()=>h});var d=c(79748),e=c(33873);async function f(){try{let a=(0,e.join)(process.cwd(),"data","sessions");try{await (0,d.access)(a)}catch{return{sessions:[],stats:{totalSessions:0,totalMessages:0,totalTokensUsed:0,estimatedTotalCost:0,activeConnections:0,uptime:process.uptime()}}}let b=(await (0,d.readdir)(a)).filter(a=>a.endsWith(".json")),c=[],f=0,g=0,h=0;for(let i of b)try{let b=(0,e.join)(a,i),j=await (0,d.readFile)(b,"utf-8"),k=JSON.parse(j),l={id:k.id||i.replace(".json",""),title:k.title||"Untitled Session",createdAt:k.createdAt||new Date().toISOString(),updatedAt:k.updatedAt||new Date().toISOString(),messageCount:k.messages?.length||0,provider:k.provider||"unknown",model:k.model||"unknown",tags:k.tags||[],archived:k.archived||!1,totalTokens:k.totalTokens||0,estimatedCost:k.estimatedCost||0};c.push(l),f+=l.messageCount,g+=l.totalTokens,h+=l.estimatedCost}catch(a){console.warn(`Failed to read session file ${i}:`,a)}c.sort((a,b)=>new Date(b.updatedAt).getTime()-new Date(a.updatedAt).getTime());let i={totalSessions:c.length,totalMessages:f,totalTokensUsed:g,estimatedTotalCost:h,activeConnections:0,uptime:process.uptime()};return{sessions:c,stats:i}}catch(a){return console.error("Failed to load chat history:",a),{sessions:[],stats:{totalSessions:0,totalMessages:0,totalTokensUsed:0,estimatedTotalCost:0,activeConnections:0,uptime:process.uptime()}}}}async function g(){try{let a=(0,e.join)(process.cwd(),"config","mcp.config.json"),b=[];try{let c=await (0,d.readFile)(a,"utf-8"),e=JSON.parse(c);e.mcpServers&&(b=Object.entries(e.mcpServers).map(([a,b])=>({id:a,name:a,displayName:b.displayName||a,enabled:!1!==b.enabled,status:"disconnected",toolCount:0})))}catch(a){console.warn("Failed to read MCP configuration:",a)}return{llmProviders:[{id:"openai",name:"openai",displayName:"OpenAI",enabled:!0,models:[{id:"gpt-4",name:"gpt-4",displayName:"GPT-4",supportsToolCalling:!0},{id:"gpt-3.5-turbo",name:"gpt-3.5-turbo",displayName:"GPT-3.5 Turbo",supportsToolCalling:!0}],status:"connected"},{id:"deepseek",name:"deepseek",displayName:"DeepSeek",enabled:!1,models:[{id:"deepseek-chat",name:"deepseek-chat",displayName:"DeepSeek Chat",supportsToolCalling:!0}],status:"disconnected"},{id:"openrouter",name:"openrouter",displayName:"OpenRouter",enabled:!1,models:[{id:"anthropic/claude-3-sonnet",name:"anthropic/claude-3-sonnet",displayName:"Claude 3 Sonnet",supportsToolCalling:!0}],status:"error"}],mcpServers:b,systemInfo:{version:process.env.npm_package_version||"1.0.0",uptime:process.uptime(),environment:"production"}}}catch(a){return console.error("Failed to load server settings:",a),{llmProviders:[],mcpServers:[],systemInfo:{version:"1.0.0",uptime:process.uptime(),environment:"production"}}}}async function h(a=5){let{sessions:b}=await f();return b.slice(0,a)}},58014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>f,viewport:()=>g});var d=c(37413),e=c(29883);c(82704);let f={title:{default:"MCP Chat UI",template:"%s | MCP Chat UI"},description:"A modern, secure chat interface for Model Context Protocol servers with multi-LLM provider support",keywords:["MCP","Model Context Protocol","Chat","AI","LLM","OpenAI","DeepSeek","OpenRouter"],authors:[{name:"MCP Chat UI Team"}],creator:"MCP Chat UI",publisher:"MCP Chat UI",robots:{index:!1,follow:!1},icons:{icon:"/favicon.ico"},manifest:"/manifest.json"},g={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:[{media:"(prefers-color-scheme: light)",color:"#ffffff"},{media:"(prefers-color-scheme: dark)",color:"#000000"}]};async function h({children:a}){let b=await (0,e.jG)(),c=await (0,e.od)(),f=await (0,e.Kf)();return(0,d.jsxs)("html",{lang:c,className:"dark"===b?"dark":"light"===b?"light":"",suppressHydrationWarning:!0,"data-theme":b,"data-device":f.isMobile?"mobile":f.isTablet?"tablet":"desktop",children:[(0,d.jsx)("head",{children:(0,d.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  const theme = localStorage.getItem('theme') || '${b}';
                  const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                  const isDark = theme === 'dark' || (theme === 'system' && systemDark);
                  document.documentElement.classList.toggle('dark', isDark);
                } catch (e) {}
              })();
            `}})}),(0,d.jsx)("body",{className:"min-h-screen bg-background font-sans antialiased",children:(0,d.jsx)("div",{id:"root",className:"relative flex min-h-screen flex-col",children:a})})]})}},69407:(a,b,c)=>{"use strict";c.d(b,{ChatSessionItem:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ChatSessionItem() from the server but ChatSessionItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/ChatSessionItem.tsx","ChatSessionItem");(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/onebird/github/mcp-chat-client/src/components/next/ChatSessionItem.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/ChatSessionItem.tsx","default")},69931:()=>{},76905:(a,b,c)=>{"use strict";c.d(b,{ChatSessionItem:()=>h});var d=c(60687),e=c(43210),f=c(55102),g=c(92170);let h=({session:a,isActive:b,onClick:c,onRename:h,onDelete:i,onArchive:j})=>{let[k,l]=(0,e.useState)(!1),m=(0,e.useRef)(null);(0,g.L)(m,()=>l(!1),k);let n=a=>{a(),l(!1)};return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:c,className:`
          w-full text-left p-3 rounded-lg transition-colors duration-200
          hover:bg-gray-100 dark:hover:bg-gray-800
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
          ${b?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"border border-transparent"}
        `,role:"button",tabIndex:0,children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(a=>{switch(a){case"openai":return(0,d.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full flex-shrink-0",title:"OpenAI"});case"deepseek":return(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0",title:"DeepSeek"});case"openrouter":return(0,d.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full flex-shrink-0",title:"OpenRouter"});default:return(0,d.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full flex-shrink-0",title:a})}})(a.provider),(0,d.jsx)("h3",{className:`
                text-sm font-medium truncate
                ${b?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"}
              `,children:a.title})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,d.jsxs)("span",{children:[a.messages?.length||0," messages"]}),(0,d.jsx)("span",{children:(a=>{let b=(new Date().getTime()-a.getTime())/36e5;return b<1?"Just now":b<24?`${Math.floor(b)}h ago`:b<168?`${Math.floor(b/24)}d ago`:a.toLocaleDateString()})(a.updatedAt)})]}),(0,d.jsx)("div",{className:"mt-1 text-xs text-gray-400 dark:text-gray-500",children:a.model})]}),(0,d.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,d.jsx)(f.$n,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),l(!k)},className:"opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 p-1","aria-label":"Session options",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]})}),k&&(0,d.jsx)("div",{ref:m,className:"absolute right-0 top-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10",role:"menu",children:(0,d.jsxs)("div",{className:"py-1",children:[(0,d.jsxs)("button",{onClick:()=>n(h),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",role:"menuitem",children:[(0,d.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Rename"]}),(0,d.jsxs)("button",{onClick:()=>n(j),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",role:"menuitem",children:[(0,d.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8l4 4 4-4m6 5l-3-3m0 0l-3 3m3-3v12"})}),"Archive"]}),(0,d.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,d.jsxs)("button",{onClick:()=>n(i),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center",role:"menuitem",children:[(0,d.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})})]})}},82704:()=>{},86132:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},92170:(a,b,c)=>{"use strict";c.d(b,{L:()=>e});var d=c(43210);let e=(a,b,c=!0,e=[])=>{(0,d.useEffect)(()=>{if(!c)return;let d=c=>{if(a.current&&!a.current.contains(c.target)){let a=c.target;e.some(b=>{try{return a.closest(b)}catch(a){return!1}})||b()}};return document.addEventListener("mousedown",d),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchstart",d)}},[a,b,c,e])}},94924:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>k});var d=c(60687),e=c(43210),f=c(16189),g=c(55102),h=c(92170),i=c(76905),j=c(5298);let k=({isOpen:a,onClose:b,className:c=""})=>{let k=(0,f.useRouter)(),l=(0,f.usePathname)(),m=(0,e.useRef)(null),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(null),[x,y]=(0,e.useState)(""),{chatSessions:z,createSession:A,updateSession:B,deleteSession:C,searchSessions:D}=(()=>{let[a,b]=(0,e.useState)([{id:"1",title:"Getting started with MCP",messages:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),provider:"openai",model:"gpt-4",mcpServers:[]},{id:"2",title:"File processing automation",messages:[],createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-14"),provider:"deepseek",model:"deepseek-chat",mcpServers:[]},{id:"3",title:"Data analysis workflow",messages:[],createdAt:new Date("2024-01-13"),updatedAt:new Date("2024-01-13"),provider:"openrouter",model:"anthropic/claude-3-sonnet",mcpServers:[]}]),c=(0,e.useCallback)((a,c)=>{let d={id:Date.now().toString(),title:"New Chat",messages:[],createdAt:new Date,updatedAt:new Date,provider:a,model:c,mcpServers:[]};return b(a=>[d,...a]),d.id},[]),d=(0,e.useCallback)((a,c)=>{b(b=>b.map(b=>b.id===a?{...b,...c,updatedAt:new Date}:b))},[]),f=(0,e.useCallback)(a=>{b(b=>b.filter(b=>b.id!==a))},[]),g=(0,e.useCallback)((a,b)=>{d(a,{title:b})},[d]),h=(0,e.useCallback)(b=>a.find(a=>a.id===b),[a]),i=(0,e.useCallback)(b=>b.trim()?a.filter(a=>a.title.toLowerCase().includes(b.toLowerCase())):a,[a]);return{chatSessions:a,createSession:c,updateSession:d,deleteSession:f,renameSession:g,getSession:h,searchSessions:i}})();(0,h.L)(m,b,a);let E=D(n),F=l.startsWith("/chat/")?l.split("/")[2]:null;(0,e.useEffect)(()=>{let c=c=>{a&&"Escape"===c.key&&b()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[a,b]);let G=a=>{w(a),u(!0)};return(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:b,"aria-hidden":"true"}),(0,d.jsxs)("aside",{ref:m,className:`
          fixed lg:static inset-y-0 left-0 z-50 lg:z-auto
          w-80 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700
          transform transition-transform duration-300 ease-in-out lg:transform-none
          ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col h-full
          ${c}
        `,"aria-label":"Chat navigation",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"MCP Chat UI"}),(0,d.jsx)(g.$n,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:b,"aria-label":"Close sidebar",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,d.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,d.jsx)(g.$n,{variant:"primary",size:"md",fullWidth:!0,onClick:()=>{q(!0)},leftIcon:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),children:"New Chat"})}),(0,d.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,d.jsx)(g.pd,{placeholder:"Search conversations...",value:n,onChange:a=>o(a.target.value),leftIcon:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),fullWidth:!0})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Recent Conversations"}),0===E.length?(0,d.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-8",children:n?"No matching conversations found":"No conversations yet"}):(0,d.jsx)("div",{className:"space-y-1",children:E.map(a=>(0,d.jsx)(i.ChatSessionItem,{session:a,isActive:F===a.id,onClick:()=>{var c;return c=a.id,void(k.push(`/chat/${c}`),b())},onRename:()=>(a=>{w(a),y(a.title),s(!0)})(a),onDelete:()=>G(a),onArchive:()=>{G(a)}},a.id))})]})}),(0,d.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(g.$n,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>k.push("/settings"),leftIcon:(0,d.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:"Settings"}),(0,d.jsx)(g.$n,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>k.push("/history"),leftIcon:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),children:"History"})]}),(0,d.jsx)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Version 1.0.0"})]})]}),(0,d.jsx)(j.NewChatModal,{isOpen:p,onClose:()=>q(!1),onCreateChat:(a,c)=>{let d=A(a,c);q(!1),k.push(`/chat/${d}`),b()}}),(0,d.jsx)(g.aF,{isOpen:r,onClose:()=>s(!1),title:"Rename Conversation",size:"md",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(g.pd,{label:"Conversation Title",value:x,onChange:a=>y(a.target.value),placeholder:"Enter new title",fullWidth:!0,autoFocus:!0}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,d.jsx)(g.$n,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,d.jsx)(g.$n,{variant:"primary",onClick:()=>{v&&x.trim()&&(B(v.id,{title:x.trim()}),s(!1),w(null),y(""))},disabled:!x.trim(),children:"Save"})]})]})}),(0,d.jsx)(g.aF,{isOpen:t,onClose:()=>u(!1),title:"Delete Conversation",size:"md",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:['Are you sure you want to delete "',v?.title,'"? This action cannot be undone.']}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,d.jsx)(g.$n,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,d.jsx)(g.$n,{variant:"danger",onClick:()=>{v&&(C(v.id),u(!1),w(null),F===v.id&&k.push("/"))},children:"Delete"})]})]})})]})}},97804:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/Sidebar.tsx","Sidebar");(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/onebird/github/mcp-chat-client/src/components/next/Sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/onebird/github/mcp-chat-client/src/components/next/Sidebar.tsx","default")},98896:(a,b,c)=>{"use strict";c.d(b,{LX:()=>d.NavigationLayout}),c(97804),c(69407),c(7685);var d=c(28430)}};